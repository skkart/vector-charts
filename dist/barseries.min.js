(window.webpackJsonpvc=window.webpackJsonpvc||[]).push([[1],{119:function(t,i,a){"use strict";var e=a(159);a.d(i,"n",(function(){return e.a}));var s=a(154);a.d(i,"o",(function(){return s.a}));var r=a(157);a.d(i,"p",(function(){return r.a}));var n=a(121);a.d(i,"b",(function(){return n.a})),a.d(i,"e",(function(){return n.d})),a.d(i,"c",(function(){return n.b})),a.d(i,"d",(function(){return n.c}));var o=a(127);a.d(i,"u",(function(){return o.a}));var h=a(117);a.d(i,"q",(function(){return h.f})),a.d(i,"j",(function(){return h.d})),a.d(i,"i",(function(){return h.b}));var c=a(147);a.d(i,"m",(function(){return c.a}));var l=a(149);a.d(i,"l",(function(){return l.a}));var p=a(158);a.d(i,"v",(function(){return p.a}));var u=a(134);a.d(i,"f",(function(){return u.a}));var d=a(125);a.d(i,"g",(function(){return d.a})),a.d(i,"h",(function(){return d.b}));var f=a(120);a.d(i,"k",(function(){return f.b})),a.d(i,"r",(function(){return f.c})),a.d(i,"a",(function(){return f.a})),a.d(i,"t",(function(){return f.e})),a.d(i,"s",(function(){return f.d}))},131:function(t,i,a){"use strict";var e=a(124),s=a.n(e),r=a(41),n=a.n(r),o=a(10),h=a.n(o),c=a(11),l=a.n(c),p=a(42),u=a.n(p),d=a(43),f=a.n(d),m=a(18),v=a(143),x=a.n(v),b=a(119),g=a(44),y=function(t){function i(t,a){h()(this,i);var e=u()(this,(i.__proto__||n()(i)).call(this));if(Object(m.k)(t)&&Object(m.j)(a)&&t.length&&Object(m.j)(a.dataParser)){if(e.$container=$(t),!e.$container.length)throw new Error("The graph container spectifed in options doesnt exist inside in Document Body");a.containerName=t;var r=!1;s()(a.chart.width)||(a.chart.width=e.$container.width(),r=!0);var o=!1;s()(a.chart.height)||(a.chart.height=e.$container.height(),o=!0),a.chart.width>a.chart.maxWidth&&(a.chart.width=a.chart.maxWidth),a.chart.width<a.chart.minWidth&&(a.chart.width=a.chart.minWidth),e.options=a,e.chartHeight=a.chart.height,e.chartWidth=a.chart.width,e.margin=a.chart.margin,e.chartType=a.chart.chartType,r&&(e.chartWidth=e.chartWidth-(e.margin.left+e.margin.right)),o&&(e.chartHeight=e.chartHeight-(e.margin.top+e.margin.bottom)),e.dataParser=a.dataParser,delete e.options.dataParser,e.chartFullSpace={width:e.chartWidth+e.margin.left+e.margin.right,height:e.chartHeight+e.margin.top+e.margin.bottom},e.chartComponentsArr=[],e.svg=Object(b.q)(e.$container.get(0)).select("svg"),0===e.svg.size()&&(e.svg=Object(b.q)(e.$container.get(0)).select(".vc-div-svg").append("svg")),$(e.svg.node()).empty(),e.svg.attr("width",e.chartFullSpace.width).attr("height",e.chartFullSpace.height).attr("class","vc-svg "+a.chart.className),e.svg.append("defs").append("clipPath").attr("id",x()("chart_clip")).append("rect").attr("width",e.chartWidth).attr("height",e.chartHeight),e.graphZone=e.svg.append("g").attr("transform","translate("+e.margin.left+","+e.margin.top+")").attr("class","vc-graphZone")}return e}return f()(i,t),l()(i,[{key:"draw",value:function(){console.log("Chart draw",this),this.chartComponentsArr.forEach((function(t){t instanceof g.a&&t.draw()}))}},{key:"update",value:function(){this.svg.attr("width",this.chartFullSpace.width),this.graphZone.attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.svg.select("clipPath").select("rect").attr("width",this.chartWidth),console.log("Chart update",this),this.chartComponentsArr.forEach((function(t){t instanceof g.a&&t.update()}))}},{key:"showHide",value:function(t){console.log("Chart showHide",this),t=!!t,this.chartComponentsArr.forEach((function(i){i instanceof g.a&&i.showHide(t)}))}},{key:"remove",value:function(){console.log("ac.chart remove",this),this.chartComponentsArr.forEach((function(t){t instanceof g.a&&t.remove()}))}},{key:"chartResponsive",value:function(){var t=this;if(this.options.chart.chartResize){this.throttedResize=Object(m.m)((function(i,a){i!==t.chartFullSpace.width&&(t.chartFullSpace.width=Math.floor(i),t.chartFullSpace.height=Math.floor(a),t.chartWidth=t.chartFullSpace.width-(t.margin.left+t.margin.right),t.chartHeight=t.chartFullSpace.height-(t.margin.top+t.margin.bottom),setTimeout((function(){return t.update()}),0))}),450);var i="ac_"+this.options.chart.id;$(window).on("resize."+i,(function(){return t.autoSizeChart()}))}}},{key:"autoSizeChart",value:function(){var t=this.$container.width();t>this.options.chart.maxWidth&&(t=this.options.chart.maxWidth),t<this.options.chart.minWidth&&(t=this.options.chart.minWidth),this.throttedResize(t,this.$container.height())}},{key:"destroy",value:function(t){if(t=!!t,this.options.chart.chartResize){var i="ac_"+this.options.chart.id;$(window).off("resize."+i)}return this.remove(),t&&this.svg.remove(),t&&this.$container.remove(),null}}]),i}(g.a);i.a=y},135:function(t,i,a){"use strict";var e=a(118),s=a.n(e),r=a(41),n=a.n(r),o=a(10),h=a.n(o),c=a(11),l=a.n(c),p=a(42),u=a.n(p),d=a(43),f=a.n(d),m=a(44),v=a(119),x=a(19),b=a(18),g=function(t){function i(t){h()(this,i);var a=u()(this,(i.__proto__||n()(i)).call(this));if(a.opts=s()({className:"",position:"y",orient:"left",label:"",unit:"",rangeScale:[0,1e3],domainScale:[0,100],scaleType:"",axisClamp:!0,tickNumber:null,rotateText:!1,textLimit:8,tickFormatter:!1,showGridLines:!1,tickPadding:x.a.TICK_PADDING,scalePadding:x.a.SCALE_PADDING,visible:!0},t),a.axis=null,"scaleBand"===a.opts.scaleType?a.scale=Object(v.n)():(a.scale=Object(v.o)(),a.opts.unit===x.a.UNITS_TIME&&(a.scale=Object(v.p)())),"x"===a.opts.position&&(a.opts.orient===x.a.DIR_BOTTOM?a.axis=Object(v.b)():a.opts.orient===x.a.DIR_TOP&&(a.axis=Object(v.e)()),!0===a.opts.showGridLines&&a.axis.tickSizeInner(-a.opts.chart.chartHeight)),a.tickValues=[],"y"===a.opts.position&&(a.opts.orient===x.a.DIR_LEFT?a.axis=Object(v.c)():a.opts.orient===x.a.DIR_RIGHT&&(a.axis=Object(v.d)(),a.axis.tickSizeInner(0)),!0===a.opts.showGridLines&&a.axis.tickSizeInner(-a.opts.chart.chartWidth),Object(b.h)(a.opts.tickFormatter))){var e=a.opts.tickFormatter;a.opts.tickFormatter=function(t){return self.tickValues.unshift(t),e(t)}}return a.opts.tickPadding>0&&a.axis.tickPadding(a.opts.tickPadding),a}return f()(i,t),l()(i,[{key:"modifyAxisProps",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(this.opts,t),this.update()}},{key:"draw",value:function(){this.transformAttr=null,this.opts.orient===x.a.DIR_BOTTOM?this.transformAttr="translate(0,"+this.opts.chart.chartHeight+")":this.opts.orient===x.a.DIR_RIGHT&&(this.transformAttr="translate("+this.opts.chart.chartWidth+",0)"),this.axisTag=this.opts.chart.graphZone.append("g").attr("class","vc-axis vc-axis-"+this.opts.orient+" vc-axis-"+this.opts.className),Object(b.h)(this.opts.tickFormatter)&&this.axis.tickFormat(this.opts.tickFormatter),this.opts.label&&(this.opts.axisLabelTag=this.axisTag.append("text").attr("class","vc-axis-label").text(this.opts.label)),this.update(),!this.opts.visible&&this.axisTag.classed("vc-hidden",!0)}},{key:"update",value:function(){if(this.opts.orient===x.a.DIR_BOTTOM&&(this.opts.rangeScale=[0,this.opts.chart.chartWidth]),this.opts.orient===x.a.DIR_RIGHT&&(this.transformAttr="translate("+this.opts.chart.chartWidth+",0)"),this.opts.label){var t=0,i=0,a=0;this.opts.orient===x.a.DIR_BOTTOM?(t=Math.floor(this.opts.chart.chartWidth/2),i=x.a.X_AXIS_LABEL_Y):this.opts.orient!==x.a.DIR_LEFT&&this.opts.orient!==x.a.DIR_RIGHT||(this.opts.orient===x.a.DIR_LEFT?(t=-this.opts.chart.margin.left+x.a.BRUSHY_BUFFER,a=270):(t=this.opts.chart.margin.right-x.a.BRUSHY_BUFFER,a=90),i=Math.floor(this.opts.chart.chartHeight/2)),this.opts.axisLabelTag.attr("transform","translate("+t+","+i+") rotate("+a+")")}this.tickValues=[];var e=[this.opts.domainScale[0],this.opts.domainScale[this.opts.domainScale.length-1]];if("scaleBand"===this.opts.scaleType?(e=this.opts.domainScale,this.scale.padding(this.opts.scalePadding)):this.opts.axisClamp&&this.scale.clamp(),this.scale.range(this.opts.rangeScale).domain(e),this.axis.scale(this.scale),Object(b.i)(this.opts.tickNumber)){var s=this.opts.tickNumber;if("x"===this.opts.position&&this.opts.unit===x.a.UNITS_TIME){var r=Math.floor(this.opts.chart.chartWidth/60),n=Math.floor((this.opts.domainScale[1]-this.opts.domainScale[0])/864e5)+1;n>2&&n<s&&(s=n);var o=Math.floor((this.opts.domainScale[1]-this.opts.domainScale[0])/6e4);o<s&&(s=o),r<s&&(s=r)}this.axis.ticks(s)}else Object(b.h)(this.opts.tickNumber)&&this.axis.ticks(this.opts.tickNumber());this.transformAttr&&this.axisTag.attr("transform",this.transformAttr),this.opts.showGridLines&&"y"===this.opts.position&&this.axis.tickSizeInner(-this.opts.chart.chartWidth),this.axisTag.call(this.axis);var h=this.opts.textLimit,c=Object(b.h)(this.opts.tickFormatter)?this.opts.tickFormatter:b.a;"slant"===this.opts.rotateText?this.axisTag.selectAll("text").style("text-anchor","end").attr("y","8").attr("dx","-1.0em").attr("dy",".15em").attr("transform","rotate(-65)").text((function(t,i){return Object(b.n)(c(t),h)})):"vertical"===this.opts.rotateText&&this.axisTag.selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").style("text-anchor","start").text((function(t,i){return Object(b.n)(c(t),h)}))}},{key:"showHide",value:function(t){t=!!t,this.axisTag&&this.axisTag.classed("vc-hidden",!t),this.opts.axisLabelTag&&this.opts.axisLabelTag.classed("vc-hidden",!t),this.opts.visible=t}},{key:"remove",value:function(){this.opts.axisLabelTag&&this.opts.axisLabelTag.remove(),this.axisTag&&this.axisTag.remove(),this.scale=null,this.axis=null,this.opts=null}}]),i}(m.a);i.a=g},136:function(t,i,a){"use strict";a.d(i,"b",(function(){return u})),a.d(i,"a",(function(){return d}));var e=a(150),s=a.n(e),r=a(118),n=a.n(r),o=a(19),h=a(18),c=a(119);function l(t){return t.chart=n()({chartResize:!1,isTouchScreen:!1,className:"",maxWidth:s.a,minWidth:0},t.chart),t.tooltip=n()({visible:!0,format:!1},t.tooltip||{}),t.legend=n()({visible:!0,legendPrefix:"",position:o.a.DIR_TOP},t.legend||{}),Object(h.h)(t.afterDraw)||(t.afterDraw=function(t){return t}),Object(h.h)(t.onComplete)||(t.onComplete=function(i){console.log("Chart loading of "+t.containerName+" is completed in "+i+" ms")}),Object(h.h)(t.onError)||(t.onError=function(i){console.log("Chart has encountered error of "+t.containerName+" ",i)}),t}function p(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(t>1e3){var e=Object(h.d)(t/1e3,a);return e>1e3?Object(h.d)(e/1e3,a)+"M "+i:e+"K "+i}return Object(h.d)(t,a)+" "+i}function u(t){if(t.xAxis=n()({bottom:{unit:o.a.UNITS_TIME,visible:!0}},t.xAxis||{}),!Object(h.h)(t.xAxis.bottom.tickFormatter)){var i=t.timeInfo,a=i.timeRange.length,e=i.timeRange[a-1]-i.timeRange[0]<o.a.TIME_FORMAT_BUFFER?Object(c.u)("%H:%M"):Object(c.u)("%d %b %Y");t.xAxis.bottom.tickFormatter=function(t){return e(t)}}if(t.yAxis||(t.yAxis={left:{}}),t.yAxis.left&&(t.yAxis.left=n()({unit:o.a.UNITS_DEF,min:0,visible:!0},t.yAxis.left)),t.yAxis.right&&(t.yAxis.right=n()({unit:o.a.UNITS_DEF,min:0,visible:!0},t.yAxis.right)),t.zoom=n()({visible:!1},t.zoom||{}),t.tooltip=n()({visible:!0,format:!1},t.tooltip||{}),!Object(h.h)(t.tooltip.format)){var s=Object(c.u)("%d %b %Y  %H:%M:%S");t.tooltip.format=function(t){if(!t||!Object(h.e)(t))return"";var i=this.options.plotSet,a=this.options.timeInfo,e=this.options.xAxis.zoneOffset||"",r=this.options.yAxis,n='<table><tbody><tr>\n            <td class="value_full" colspan="2">\n            '+s(t[a.dataIndex])+" "+e+"\n            </td></tr>";for(var o in i){var c=t[i[o].dataIndex];if(i[o].visible&&!isNaN(c)){var l=r[i[o].plotAxis[0]].format||p;n+="<tr>\n        <td class='name'>\n            <span style='background-color:"+i[o].color+"'></span>"+i[o].name+"\n        </td>\n        <td class='value'>\n            "+l(c,i[o].unit)+"\n        </td>\n        </tr>"}}return n+="</tbody></table>"}}return l(t),t}function d(t){return t.xAxis=n()({bottom:{unit:o.a.UNITS_DEF,visible:!0}},t.xAxis||{}),t.yAxis||(t.yAxis={left:{}}),t.yAxis.left&&(t.yAxis.left=n()({unit:o.a.UNITS_DEF,min:0,visible:!0},t.yAxis.left)),t.yAxis.right&&(t.yAxis.right=n()({unit:o.a.UNITS_DEF,min:0,visible:!0},t.yAxis.right)),t.zoom=n()({visible:!1},t.zoom||{}),t.tooltip=n()({visible:!0,format:!1},t.tooltip||{}),Object(h.h)(t.tooltip.format)||(t.tooltip.format=function(t){var i=t;if(t&&t.val&&(i=t.val),!Object(h.e)(i))return"";var a=this.options.plotSet,e=this.options.timeInfo,s=this.options.yAxis,r='<table><tbody><tr>\n            <td class="value_full" colspan="2">\n            '+i[e.dataIndex]+"\n            </td></tr>";for(var n in a){var o=i[a[n].dataIndex];if(a[n].visible&&!isNaN(o)){var c=s[a[n].plotAxis[0]].format||p;r+="<tr>\n        <td class='name'>\n            <span style='background-color:"+a[n].color+"'></span>\n        </td>\n        <td class='value'>\n            "+c(o,a[n].unit)+"\n        </td>\n        </tr>"}}return r+="</tbody></table>"}),l(t),t}},139:function(t,i,a){"use strict";var e=a(41),s=a.n(e),r=a(10),n=a.n(r),o=a(11),h=a.n(o),c=a(42),l=a.n(c),p=a(43),u=a.n(p),d=function(t){function i(t){return n()(this,i),l()(this,(i.__proto__||s()(i)).call(this))}return u()(i,t),h()(i,[{key:"draw",value:function(){this.plotSeries.forEach((function(t){t.draw()}))}},{key:"update",value:function(){this.plotSeries.forEach((function(t){t.update()}))}},{key:"showHide",value:function(t){this.plotSeries.forEach((function(i){i.showHide(t)}))}},{key:"redraw",value:function(){this.plotSeries.forEach((function(t){t.redraw()}))}},{key:"remove",value:function(){this.plotSeries.forEach((function(t){t.remove()})),this.plotSeries=null,this.opts=null}}]),i}(a(44).a);i.a=d},213:function(t,i,a){"use strict";a.r(i);var e=a(124),s=a.n(e),r=a(140),n=a.n(r),o=a(141),h=a.n(o),c=a(118),l=a.n(c),p=a(41),u=a.n(p),d=a(10),f=a.n(d),m=a(11),v=a.n(m),x=a(42),b=a.n(x),g=a(142),y=a.n(g),A=a(43),O=a.n(A),T=a(18),S=a(131),w=a(135),I=a(136),_=a(19),j=a(45),k=a(153),R=a.n(k),D=a(44),E=function(t){function i(t){f()(this,i);var a=b()(this,(i.__proto__||u()(i)).call(this));return a.opts=l()({visible:!0},t),Object(T.h)(a.opts.format)||(a.opts.format=function(t){return"<span> ToolTip Text : </span><br/><span>"+R()(t)+"</span>"}),a}return O()(i,t),v()(i,[{key:"draw",value:function(){this.$toolTipDiv=$("<div></div>").addClass("vc-tooltip-display "+this.opts.className),this.opts.chart.$container.append(this.$toolTipDiv)}},{key:"hover",value:function(t,i,a,e){var s=this.opts.chart.$container.offset(),r=Math.round(t-s.left),n=Math.round(i-s.top);e||(r=Math.round(r-this.$toolTipDiv.width()/2),n=Math.round(n-this.$toolTipDiv.height()/2)),this.$toolTipDiv.css({left:r+"px",top:n+"px",display:"inline-block"}).html(this.opts.format.call(this.opts.chart,a.data))}},{key:"showHide",value:function(t){(t=!!t)?this.$toolTipDiv&&this.$toolTipDiv.show():this.$toolTipDiv&&this.$toolTipDiv.hide()}},{key:"remove",value:function(){this.$toolTipDiv&&this.$toolTipDiv.remove(),this.opts=null}}]),i}(D.a),F=a(138),N=function(t){function i(t){f()(this,i);var a=b()(this,(i.__proto__||u()(i)).call(this,t));return a.opts=t,a}return O()(i,t),v()(i,[{key:"dataExecutor",value:function(){try{return this.dataOptions={},this.opts.data&&(this.dataOptions.data=this.opts.data),this.opts.series&&(this.dataOptions.series=this.opts.series),this.opts.yAxis&&(this.dataOptions.yAxis=this.opts.yAxis),l()(this.dataOptions,this.constructChartData()),l()(this.dataOptions,this.constructXAxisInfo()),l()(this.dataOptions,this.constructPlotInfo()),l()(this.dataOptions,this.constructYAxisInfo()),this.dataOptions}catch(t){throw console.log("Error encountered while barseries JSON parsing :",t),this.opts.onError(t),new Error("Invalid JSON received - Error on barseries JSON parsing")}}},{key:"constructChartData",value:function(){var t=this.dataOptions.data.barseries,i=t.columns,a=t.values;if(!(i.length&&a.length))throw new Error("Invalid Bar series JSON received");return{chartData:a}}},{key:"constructXAxisInfo",value:function(){var t=this.dataOptions.chartData;return{timeInfo:{dataIndex:0,timeRange:Object(F.map)(t,0)}}}},{key:"constructYAxisInfo",value:function(){var t,i=this.dataOptions,a=i.plotSet,e=i.series,r=i.chartData,n=Object(T.c)(i,"yAxis.left"),o=Object(T.c)(i,"yAxis.right"),h=void 0,c=null,l=null;(n&&s()(n.min)&&s()(n.max)&&(c=[n.min,n.max]),o&&s()(o.min)&&s()(o.max)&&(l=[o.min,o.max]),c&&l)||function(){var p=!1;for(h in a)if(!s()(a[h].minVal)||!s()(a[h].maxVal)){p=!0;break}p&&(Object(F.each)(a,(function(t){t.minVal=1/0,t.maxVal=-1/0})),t=0,r.forEach((function(i){Object(F.each)(a,(function(a){(t=i[a.dataIndex])<a.minVal&&(a.minVal=t),t>a.maxVal&&(a.maxVal=t)}))})));var u=-1/0,d=-1/0;for(h in e)"bar"===h&&e[h].forEach((function(t){t.barOrderMembers.forEach((function(t){a[t.name].visible&&"left"===a[t.name].plotAxis[0]&&a[t.name].maxVal>u&&(u=a[t.name].maxVal),a[t.name].visible&&"right"===a[t.name].plotAxis[0]&&a[t.name].maxVal>d&&(d=a[t.name].maxVal)}))}));var f=1/0,m=1/0;for(h in a)a[h].plotAxis&&"left"===a[h].plotAxis[0]&&a[h].visible&&a[h].minVal<f&&(f=a[h].minVal),a[h].plotAxis&&"right"===a[h].plotAxis[0]&&a[h].visible&&a[h].minVal<m&&(m=a[h].minVal);var v=void 0,x=void 0;[f,u].reduce((function(t,i){return s()(t)&&s()(i)}))?(v=Object(T.c)(i,"yAxis.left.min"),v=s()(v)?v:f,x=Object(T.c)(i,"yAxis.left.max"),(x=s()(x)?x:u)||(x=v+80),c=[v,x]):c=!!n&&[0,80],[m,d].reduce((function(t,i){return s()(t)&&s()(i)}))?(v=Object(T.c)(i,"yAxis.right.min"),v=s()(v)?v:m,x=Object(T.c)(i,"yAxis.right.max"),(x=s()(x)?x:d)||(x=v+80),l=[v,x]):l=!!o&&[0,80]}();return{yRange:c,yRange2:l}}},{key:"constructPlotInfo",value:function(){var t=this.dataOptions,i=t.data.barseries,a=i.columns,e=0,s={},r=t.series,n=void 0,o=i.color||[],h=Object(T.c)(t,"yAxis.left"),c=Object(T.c)(t,"yAxis.right");for(n in a.forEach((function(t){var i=Object(T.l)(t);s[i]={name:t,dataIndex:e,minVal:1/0,maxVal:-1/0,visible:!0,color:o[e]||"#000"},e++})),r)"bar"===n&&r[n].forEach((function(t){var i=t.barOrderMembers;t.valueRange=[1/0,-1/0],i.forEach((function(i){i.name=Object(T.l)(i.name);var a=i.color;if(!a)throw"Color not present for series "+t.name;a&&(s[i.name].color=a);var e=i.plotAxis||["left","bottom"];s[i.name].plotAxis=e;var r="left"===e[0]?h.unit:c.unit;s[i.name].unit=r,Object(T.f)(i.visible)&&(s[i.name].visible=i.visible)}))}));return{series:r,plotSet:s}}}]),i}(j.a),M=a(119),H=function(t){function i(t){f()(this,i);var a=b()(this,(i.__proto__||u()(i)).call(this));a.opts=l()({className:"",plotAxis:[_.a.DIR_LEFT,_.a.DIR_BOTTOM],barData:null,xAxisTarget:null,barType:_.a.GROUPED_BAR,barOrderMembers:{},visible:!0,events:{}},t);var e=a,s=a.opts.chart.options.plotSet;a.opts.barOrderIndex=a.opts.barOrderMembers.filter((function(t){return s[t.name].visible||!1})).map((function(t){return s[t.name].dataIndex})),a.opts.seriesLength=a.opts.barOrderIndex.length;var r=Object(T.c)(a.opts,"chart.xAxis.scale");a.opts.plotAxis.indexOf(_.a.DIR_TOP)>-1&&(r=Object(T.c)(a.opts,"chart.xAxis2.scale"));var n=Object(T.c)(a.opts,"chart.yAxis.scale");a.opts.plotAxis.indexOf(_.a.DIR_RIGHT)>-1&&(n=Object(T.c)(a.opts,"chart.yAxis2.scale")),a.xScale=r,a.yScale=n;var o=a.opts.barData;return a.opts.seriesArr=[],a.opts.xAxisArr=Object(F.map)(o,a.opts.xAxisTarget),Object(F.each)(a.opts.barOrderIndex,(function(t){e.opts.seriesArr.push(Object(F.map)(o,t))})),a.opts.barStack=Object(M.r)().keys(Object(M.m)(a.opts.seriesLength))(Object(M.v)(a.opts.seriesArr)),a.yMaxGrouped=Object(M.l)(a.opts.seriesArr,(function(t){return Object(M.l)(t)})),a.yMaxStacked=Object(M.l)(a.opts.barStack,(function(t){return Object(M.l)(t,(function(t){return t[1]}))})),a}return O()(i,t),v()(i,[{key:"draw",value:function(){var t=this,i={},a=this.opts.chart.options.plotSet,e=this.opts.barOrderMembers.filter((function(t){return a[t.name].visible||!1}));Object(F.each)(e,(function(t,e){var s=a[t.name];i[s.dataIndex-1]=t.name}));var s=this.opts.chart.$container.find("svg clipPath");this.barSeries=this.opts.chart.graphZone.selectAll(".vc-bar-series").data(this.opts.barStack).enter().append("g").attr("clip-path","url(#"+s.attr("id")+")").attr("class","vc-bar-series").attr("fill",(function(t,e){return a[i[e]].color})).attr("seriesName",(function(t,a){return i[a]})).attr("seriesIndex",(function(t,i){return i})),this.bars=this.barSeries.selectAll("rect").data((function(t){return t})).enter().append("rect").attr("x",(function(i,a){return t.xScale(t.opts.xAxisArr[a])})).attr("fill",(function(t,i){var e=Object(M.q)(this.parentNode).attr("seriesName");return a[e].colorArr&&a[e].colorArr[i]})).attr("y",this.opts.chart.chartHeight).attr("width",this.xScale.bandwidth()).attr("height",0).on("mousemove",(function(i,a){t.opts.chart.tooltip&&t.opts.chart.tooltip.hover(M.i.pageX,M.i.pageY-50,{data:{val:t.opts.barData[a],ind:a}})})).on("mouseout",(function(i){t.opts.chart.tooltip&&t.opts.chart.tooltip.hide()})),Object(F.each)(this.opts.events,(function(i,a){t.bars.on(a,(function(){i.apply(t.opts.chart,arguments)}))}))}},{key:"update",value:function(){var t=this;this.opts.barType===_.a.STACKED_BAR?this.bars.attr("y",(function(i){return t.yScale(i[1])})).attr("height",(function(i){return t.yScale(i[0])-t.yScale(i[1])})).attr("x",(function(i,a){return t.xScale(t.opts.xAxisArr[a])})).attr("width",t.xScale.bandwidth()):this.bars.attr("x",(function(i,a){return t.xScale(t.opts.xAxisArr[a])+t.xScale.bandwidth()/t.opts.seriesLength*Object(M.q)(this.parentNode).attr("seriesIndex")})).attr("width",t.xScale.bandwidth()/t.opts.seriesLength).attr("y",(function(i){return t.yScale(i[1]-i[0])})).attr("height",(function(i){return t.yScale(0)-t.yScale(i[1]-i[0])}))}},{key:"showHide",value:function(t){t=!!t,this.barSeries.classed("vc-hidden",!t),this.opts.visible=t}},{key:"redraw",value:function(){var t=this.opts.chart.options.plotSet;this.opts.barOrderIndex=this.opts.barOrderMembers.filter((function(i){return t[i.name].visible||!1})).map((function(i){return t[i.name].dataIndex})),this.barSeries&&this.barSeries.remove(),this.draw()}},{key:"remove",value:function(){this.barSeries&&this.barSeries.remove(),this.bars=null,this.opts=null}}]),i}(D.a),C=function(t){function i(t){f()(this,i);var a=b()(this,(i.__proto__||u()(i)).call(this));a.opts=t,a.plotSeries=[];var e=a.opts.chart.options.chartData,s=a.opts.chart.options.series;return Object(T.e)(s.bar)&&s.bar.forEach((function(t){a.plotSeries.push(new H({chart:a.opts.chart,className:t.className||t.name,plotAxis:t.plotAxis,xAxisTarget:a.opts.chart.options.timeInfo.dataIndex,barOrderMembers:t.barOrderMembers,barData:e}))})),a}return O()(i,t),i}(a(139).a),P=function(t){function i(t,a){if(f()(this,i),a.startTime=new Date,a.dataParser||(a.dataParser=new N(a)),!(a.dataParser instanceof j.a))throw new Error("DataParser in options dosen't have implementation of ChartAxisParser");var e=b()(this,(i.__proto__||u()(i)).call(this,t,a));return Object(I.a)(e.options),Object(T.j)(e.dataParser)&&l()(e.options,e.dataParser.dataExecutor()),e.chartInitilize(),h()((function(){return e.draw()})),e}return O()(i,t),v()(i,[{key:"chartInitilize",value:function(){var t=void 0,i=this.options.yRange,a=this.options.yRange2,e=this.options.timeInfo;i&&(t=Object(T.c)(this,"options.yAxis.left"),this.yAxis=new w.a(n()({chart:this,position:"y",orient:"left",rangeScale:[this.chartHeight,0],domainScale:i},t)),this.chartComponentsArr.push(this.yAxis)),a&&(t=Object(T.c)(this,"options.yAxis.right"),this.yAxis2=new w.a(n()({chart:this,position:"y",orient:"right",rangeScale:[this.chartHeight,0],domainScale:a},t)),this.chartComponentsArr.push(this.yAxis2)),e.timeRange&&(t=Object(T.c)(this,"options.xAxis.bottom"),this.xAxis=new w.a(n()({chart:this,position:"x",orient:"bottom",rangeScale:[0,this.chartWidth],domainScale:e.timeRange},t)),this.chartComponentsArr.push(this.xAxis));var s=Object(T.c)(this,"options.tooltip");s.visible&&(this.tooltip=new E(n()({chart:this},s)),this.chartComponentsArr.push(this.tooltip)),this.options.series&&(this.series=new C({chart:this}),this.chartComponentsArr.push(this.series))}},{key:"draw",value:function(){console.log("BarSeriesChart draw",this),y()(i.prototype.__proto__||u()(i.prototype),"draw",this).call(this),this.options.afterDraw.call(this),this.reScaleYAxis(),this.chartResponsive(),this.mouseHandler&&this.mouseHandler.triggerMouseAction(),this.timeDiff=(new Date).getTime()-this.options.startTime.getTime(),this.options.onComplete.call(this,this.timeDiff)}},{key:"reScaleYAxis",value:function(t){var i=this,a=void 0,e=void 0,r=void 0,n=void 0,o=!0,h=!0;t===_.a.DIR_LEFT&&(h=!1),t===_.a.DIR_RIGHT&&(o=!1),n=Object(T.c)(this.options,"yAxis.left.max"),this.options.yRange&&o&&!s()(n)&&(a=this.yAxis.tickValues).length>1&&(e=a[0]-a[1],r=a[0]+e,this.options.yRange[1]=r,this.yAxis.modifyAxisProps({domainScale:this.options.yRange})),n=Object(T.c)(this.options,"yAxis.right.max"),this.options.yRange2&&h&&!s()(n)&&(a=this.yAxis2.tickValues).length>1&&(e=a[0]-a[1],r=a[0]+e,this.options.yRange2[1]=r,this.yAxis2.modifyAxisProps({domainScale:this.options.yRange2}));var c={},l=0;this.options.yRange&&(c[_.a.DIR_LEFT]={},c[_.a.DIR_LEFT].class=".vc-axis-left",c[_.a.DIR_LEFT].maxText=""),this.options.yRange2&&(c[_.a.DIR_RIGHT]={},c[_.a.DIR_RIGHT].class=".vc-axis-right",c[_.a.DIR_RIGHT].maxText="");var p=this.svg.append("g").attr("class","vc-axis"),u=function(t){var a=i.$container.find("svg "+c[t].class).find("text");a.each((function(i){var e=$(a[i]).text()||"";e.length>c[t].maxText.length&&(c[t].maxText=e)})),p.selectAll(".dummyText").data([c[t].maxText]).enter().append("text").text(String).each((function(t,i){l=this.getComputedTextLength(),$(this).remove()})),i.margin[t]=Math.round(l)+_.a.Y_AXIS_SPACE};for(var d in c)u(d);p.remove(),this.chartWidth=this.chartFullSpace.width-this.margin.left-this.margin.right,this.update()}}]),i}(S.a);i.default=P}}]);
//# sourceMappingURL=barseries.min.js.map