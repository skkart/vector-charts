(window.webpackJsonpvc=window.webpackJsonpvc||[]).push([[4],{152:function(t,s,i){"use strict";i.r(s);var e=i(10),a=i.n(e),r=i(30),o=i.n(r),h=i(64),n=i.n(h),c=i(5),l=i.n(c),p=i(6),u=i.n(p),v=i(4),m=i.n(v),d=i(7),f=i.n(d),g=i(8),b=i.n(g),x=i(65),y=i.n(x),O=i(9),A=i.n(O),R=i(1),k=i(58),D=i(44),Y=i(59),j=i(0),T=i(27),_=function(t){function s(t){m()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this,t));return i.opts=t,i}return A()(s,t),f()(s,[{key:"dataExecutor",value:function(){try{return this.dataOptions={},this.opts.data&&(this.dataOptions.data=this.opts.data),this.opts.series&&(this.dataOptions.series=this.opts.series),this.opts.yAxis&&(this.dataOptions.yAxis=this.opts.yAxis),l()(this.dataOptions,this.constructChartData()),l()(this.dataOptions,this.constructXAxisInfo()),l()(this.dataOptions,this.constructPlotInfo()),l()(this.dataOptions,this.constructYAxisInfo()),this.dataOptions}catch(t){throw console.log("Error encountered while timeseries JSON parsing :",t),this.opts.onError(t),new Error("Invalid JSON received - Error on timeseries JSON parsing")}}},{key:"constructChartData",value:function(){var t=this.dataOptions.data.timeseries,s=t.columns,i=t.values,e=s.length&&i.length,a=i[0][0];if(!e||!Object(R.k)(a)&&!Object(R.i)(a))throw new Error("Invalid Time series JSON received");var r=0;return i.forEach((function(t){if(r>t[0])throw new Error("Invalid Time series JSON received: Timestamp Values must be in ascending order");r=t[0],t[0]=Object(R.d)(t[0],!0)})),{chartData:i}}},{key:"constructXAxisInfo",value:function(){var t=this.dataOptions.chartData;return{timeInfo:{dataIndex:0,timeRange:[t[0][0],t[t.length-1][0]]}}}},{key:"constructYAxisInfo",value:function(){var t=this.dataOptions,s=t.plotSet,i=t.series,e=t.chartData,r=Object(R.e)(t,"yAxis.left"),o=Object(R.e)(t,"yAxis.right"),h=!1,n=void 0,c=null,l=null;return r&&a()(r.min)&&a()(r.max)&&(c=[r.min,r.max]),o&&a()(o.min)&&a()(o.max)&&(l=[o.min,o.max]),(r&&!c||o&&!l)&&function(){for(n in s)if(!a()(s[n].minVal)||!a()(s[n].maxVal)){h=!0;break}if(i.stack&&i.stack.length||h){if(h)for(var p in s){var u=s[p];u.minVal=1/0,u.maxVal=-1/0}i.stack&&i.stack.forEach((function(t){t.valueRange=[1/0,-1/0]}));var v=0;e.forEach((function(t){if(h)for(var e in s){var a=s[e];(v=t[a.dataIndex])<a.minVal&&(a.minVal=v),v>a.maxVal&&(a.maxVal=v)}i.stack&&i.stack.forEach((function(i){var e=i.stackOrderMembers,a=0;e.forEach((function(i){a+=s[i.name].visible?t[s[i.name].dataIndex]:0})),a<i.valueRange[0]&&(i.valueRange[0]=a),a>i.valueRange[1]&&(i.valueRange[1]=a)}))}))}var m=-1/0,d=-1/0;for(n in i)"line"===n?i[n].forEach((function(t){s[t.name].visible&&"left"===s[t.name].plotAxis[0]&&s[t.name].maxVal>m&&(m=s[t.name].maxVal),s[t.name].visible&&"right"===s[t.name].plotAxis[0]&&s[t.name].maxVal>d&&(d=s[t.name].maxVal)})):"stack"===n&&i[n].forEach((function(t){"left"===t.plotAxis[0]&&t.valueRange[1]>m&&(m=t.valueRange[1]),"right"===t.plotAxis[0]&&t.valueRange[1]>d&&(d=t.valueRange[1])}));var f=1/0,g=1/0;for(n in s)"left"===s[n].plotAxis[0]&&s[n].visible&&s[n].minVal<f&&(f=s[n].minVal),"right"===s[n].plotAxis[0]&&s[n].visible&&s[n].minVal<g&&(g=s[n].minVal);var b=void 0,x=void 0;[f,m].reduce((function(t,s){return a()(t)&&a()(s)}))?(b=Object(R.e)(t,"yAxis.left.min"),b=a()(b)?b:f,x=Object(R.e)(t,"yAxis.left.max"),(x=a()(x)?x:m)||(x=b+80),c=[b,x]):c=!!r&&[0,80],[g,d].reduce((function(t,s){return a()(t)&&a()(s)}))?(b=Object(R.e)(t,"yAxis.right.min"),b=a()(b)?b:g,x=Object(R.e)(t,"yAxis.right.max"),(x=a()(x)?x:d)||(x=b+80),l=[b,x]):l=!!o&&[0,80]}(),{yRange:c,yRange2:l}}},{key:"constructPlotInfo",value:function(){var t=this.dataOptions,s=t.data.timeseries,i=s.columns,e=0,a={},r=t.series,o=void 0,h=t.timeInfo.dataIndex,n=s.color||[],c=Object(R.e)(t,"yAxis.left"),l=Object(R.e)(t,"yAxis.right");for(o in i.forEach((function(t){if(h!==e){var s=Object(R.n)(t);a[s]={name:t,dataIndex:e,minVal:1/0,maxVal:-1/0,visible:!0,color:n[e]||"#000"},e++}else e++})),r)"line"===o?r[o].forEach((function(t){t.name=Object(R.n)(t.name);var s=t.color;if(!s)throw"Color not present for series "+t.name;s&&(a[t.name].color=s);var i=t.plotAxis||["left","bottom"];a[t.name].plotAxis=i;var e="left"===i[0]?c.unit:l.unit;a[t.name].unit=e,Object(R.h)(t.visible)&&(a[t.name].visible=t.visible)})):"stack"===o?r[o].forEach((function(t){var s=t.stackOrderMembers;t.valueRange=[1/0,-1/0],s.forEach((function(s){s.name=Object(R.n)(s.name);var i=s.color;if(!i)throw"Color not present for series "+t.name;i&&(a[s.name].color=i);var e=s.plotAxis||["left","bottom"];a[s.name].plotAxis=e;var r="left"===e[0]?c.unit:l.unit;a[s.name].unit=r,Object(R.h)(s.visible)&&(a[s.name].visible=s.visible)}))})):"bar"===o&&r[o].forEach((function(t){var s=t.barOrderMembers;t.valueRange=[1/0,-1/0],s.forEach((function(s){s.name=Object(R.n)(s.name);var i=s.color;if(!i)throw"Color not present for series "+t.name;i&&(a[s.name].color=i);var e=s.plotAxis||["left","bottom"];a[s.name].plotAxis=e;var r="left"===e[0]?c.unit:l.unit;a[s.name].unit=r,Object(R.h)(s.visible)&&(a[s.name].visible=s.visible)}))}));return{series:r,plotSet:a}}}]),s}(T.a),w=i(86),S=i.n(w),H=i(11),I=i(2),L=function(t){function s(t){m()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));return i.opts=l()({crossHairs:{enable:!0},visible:!0},t),Object(R.j)(i.opts.format)||(i.opts.format=function(t){return"<span> ToolTip Text : </span><br/><span>"+S()(t)+"</span>"}),i}return A()(s,t),f()(s,[{key:"draw",value:function(){var t=this;this.crossHairs=!1,this.toolTipDiv=this.opts.chart.container.append("div").attr("class","vc-tooltip-display "+this.opts.className),!0===this.opts.crossHairs.enable&&(this.crossHairs=this.opts.chart.svg.append("g").attr("class","vc-tooltip-line"),this.crossHairs.append("line").attr("transform","translate(-999,-999)").attr("x1",this.opts.chart.margin.left).attr("y1",this.opts.chart.margin.top-j.a.TOOLTIP_TOP_BUFFER).attr("x2",this.opts.chart.margin.left).attr("y2",this.opts.chart.chartHeight+this.opts.chart.margin.top)),this.opts.chart.mouseHandler.register((function(){var s=t,i=Object(R.e)(t.opts,"chart.xAxis.scale")||!1,e=t.opts.chart.mouseHandler,a=t.opts.chart.options.timeInfo.dataIndex,r=t.opts.chart.options.chartData,o=Object(I.g)((function(t){return t[a]})).left,h="mousemove";t.opts.chart.options.chart.isTouchScreen&&(h="dblclick"),e.mouseBrush.on(h,(function(t){var e=Object(I.k)(this)[0],h=Object(I.k)(this)[1],n=i.invert(e),c=o(r,n,1),l=r[c-2],p=r[c-1],u=r[c]||p,v=p;r.length>s.opts.chart.chartWidth?function(){var t=Math.floor(r.length/s.opts.chart.chartWidth)+1,i={};for(var e in s.opts.chart.options.plotSet){var a=s.opts.chart.options.plotSet[e];a.visible&&(i[a.dataIndex]=!0)}for(var o={},h=c-t;h<c+t;h++)if(r[h]){var n=r[h].filter((function(t,s){return i[s]})).sort((function(t,s){return s-t}));n.length&&(o[h]=n)}var l=void 0,p=-1/0;for(var m in o){var d=o[m];p<d[0]&&(p=d[0],l=m)}v=r[l]||u}():v=n-p[a]>u[a]-n?u:p;var m=u[a]-p[a];!m&&l&&(m=p[a]-l[a]),m<Math.abs(u[a]-n)&&((v=[])[a]=n),s.hover(e,h,v)})).on("mouseout",(function(){s.hide()})).on("mousedown",(function(){s.hide()})),e.mouseBrush.select("rect.overlay").on("mousedown",(function(){s.hide()})),t.opts.chart.options.chart.isTouchScreen&&(t.hover(0,0,r[0]),setTimeout((function(){s.hide()}),25))}))}},{key:"hover",value:function(t,s,i){this.crossHairs&&this.crossHairs.select("line").attr("transform","translate("+t+",0)").attr("x1",this.opts.chart.margin.left).attr("y1",this.opts.chart.margin.top-j.a.TOOLTIP_TOP_BUFFER).attr("x2",this.opts.chart.margin.left).attr("y2",this.opts.chart.chartHeight+this.opts.chart.margin.top),this.showHide(!0);var e=t/this.opts.chart.chartWidth;e<.3&&(e=.2),e>.7&&(e=.95);var a=Object(R.b)(this.toolTipDiv),r=Object(R.b)(this.opts.chart.container),o=Math.round(r.left+this.opts.chart.margin.left+t-a.width*e)+"px",h=Math.round(r.top-a.height-5+2*j.a.TOOLTIP_TOP_BUFFER)+"px";this.toolTipDiv.style("left",o).style("top",h).style("display","inline-block").html(this.opts.format.call(this.opts.chart,i))}},{key:"showHide",value:function(t){t=!!t,this.crossHairs&&this.crossHairs.classed("vc-hidden",!t),this.toolTipDiv&&this.toolTipDiv.classed("vc-hidden",!t),this.opts.visible=t}},{key:"remove",value:function(){this.toolTipDiv&&this.toolTipDiv.remove(),this.crossHairs&&this.crossHairs.remove(),this.opts=null}}]),s}(H.a),E=function(t){function s(t){m()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));return i.opts=t,i.opts.registerFn=[],i}return A()(s,t),f()(s,[{key:"draw",value:function(){this.mouseBrush=this.opts.chart.svg.append("g").attr("class","vc-brushX").attr("width",this.opts.chart.chartWidth).attr("height",this.opts.chart.chartHeight).attr("fill","none").attr("pointer-events","all").attr("style","-webkit-tap-highlight-color: rgba(0, 0, 0, 0)").attr("transform","translate("+this.opts.chart.margin.left+","+this.opts.chart.margin.top+")"),this.opts.chart.options.chart.isTouchScreen&&this.mouseBrush.attr("cursor","pointer"),this.opts.chart.options.zoom.visible&&!this.opts.chart.options.chart.isTouchScreen||this.mouseBrush.append("rect").attr("class","overlay").attr("x",0).attr("y",0).attr("width",this.opts.chart.chartWidth).attr("height",this.opts.chart.chartHeight)}},{key:"update",value:function(){this.mouseBrush.attr("width",this.opts.chart.chartWidth).attr("height",this.opts.chart.chartHeight).attr("transform","translate("+this.opts.chart.margin.left+","+this.opts.chart.margin.top+")"),this.opts.chart.options.zoom.visible&&!this.opts.chart.options.chart.isTouchScreen||this.mouseBrush.select("rect.overlay").attr("width",this.opts.chart.chartWidth).attr("height",this.opts.chart.chartHeight)}},{key:"showHide",value:function(t){t=!!t,this.mouseBrush&&this.mouseBrush.classed("vc-hidden",!t)}},{key:"register",value:function(t){this.opts.registerFn.push(t)}},{key:"triggerMouseAction",value:function(){var t=this;this.opts.registerFn.forEach((function(s){s.call(t)}))}},{key:"remove",value:function(){this.mouseBrush&&this.mouseBrush.remove(),this.opts=null}}]),s}(H.a),X=function(t){function s(t){m()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));return i.opts=l()({onZoom:R.c,onY1Zoom:R.c,onY2Zoom:R.c},t),i}return A()(s,t),f()(s,[{key:"draw",value:function(){var t=this,s=Object(R.e)(this.opts,"chart.xAxis.scale")||!1,i=Object(R.e)(this.opts,"chart.yAxis.scale")||!1,e=Object(R.e)(this.opts,"chart.yAxis2.scale")||!1,a=null;s&&(this.brushX=Object(I.h)().extent([[0,0],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]),this.brushXDiv=this.opts.chart.mouseHandler.mouseBrush.call(this.brushX),a=this.brushXDiv.selectAll("rect.overlay"),this.brushX.on("end",(function(){if(I.j.selection){var i=I.j.selection.map(s.invert),e=i&&i.map(Math.round);t.brushXDiv.call(t.brushX.move,null),a.style("cursor","auto"),t.opts.chart.xAxis.modifyAxisProps({domainScale:e}),t.opts.chart.series.update(),Object(R.j)(t.opts.onZoom)&&t.opts.onZoom.call(t.opts.chart,e[0],e[1])}}))),i&&(this.brushYLeft=Object(I.i)(),this.brushYLeftDiv=this.opts.chart.svg.append("g").attr("class","vc-brushY-left"),this.brushYLeft.on("end",(function(){if(I.j.selection){t.brushYLeftDiv.call(t.brushYLeft.move,null);var s=I.j.selection.map(i.invert),e=s&&s.map(Math.round).sort((function(t,s){return t-s}));t.opts.chart.yAxis.modifyAxisProps({domainScale:e}),t.opts.chart.series.update(),Object(R.j)(t.opts.onY1Zoom)&&t.opts.onY1Zoom.call(t.opts.chart,e[0],e[1])}}))),e&&(this.brushYRight=Object(I.i)(),this.brushYRightDiv=this.opts.chart.svg.append("g").attr("class","vc-brushY-right"),this.brushYRight.on("end",(function(){if(I.j.selection){t.brushYRightDiv.call(t.brushYRight.move,null);var s=I.j.selection.map(e.invert),i=s&&s.map(Math.round).sort((function(t,s){return t-s}));t.opts.chart.yAxis2.modifyAxisProps({domainScale:i}),t.opts.chart.series.update(),Object(R.j)(t.opts.onY2Zoom)&&t.opts.onY2Zoom.call(t.opts.chart,i[0],i[1])}}))),a&&this.opts.chart.mouseHandler.register((function(){a.on("mousedown",(function(){a.style("cursor","col-resize")})).on("click",(function(){a.style("cursor","auto")}))})),this.update()}},{key:"update",value:function(){this.brushX&&(this.brushX.extent([[0,0],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]),this.brushXDiv.call(this.brushX)),this.brushYLeft&&(this.brushYLeft.extent([[0,0],[this.opts.chart.margin.left-j.a.BRUSHY_BUFFER,this.opts.chart.chartHeight]]),this.brushYLeftDiv.attr("transform","translate("+j.a.BRUSHY_BUFFER+","+this.opts.chart.margin.top+")").call(this.brushYLeft)),this.brushYRight&&(this.brushYRight.extent([[this.opts.chart.margin.left+this.opts.chart.chartWidth-j.a.BRUSHY_BUFFER,0],[this.opts.chart.margin.left+this.opts.chart.chartWidth+this.opts.chart.margin.right-j.a.BRUSHY_BUFFER,this.opts.chart.chartHeight]]),this.brushYRightDiv.attr("transform","translate("+j.a.BRUSHY_BUFFER+","+this.opts.chart.margin.top+")").call(this.brushYRight))}},{key:"showHide",value:function(t){t=!!t,this.brushXDiv&&this.brushXDiv.classed("vc-hidden",!t),this.brushYLeftDiv&&this.brushYLeftDiv.classed("vc-hidden",!t),this.brushYRightDiv&&this.brushYRightDiv.classed("vc-hidden",!t),this.opts.visible=t}},{key:"remove",value:function(){this.brushXDiv&&(this.brushXDiv.call(this.brushX.move,null),this.brushXDiv&&this.brushXDiv.remove()),this.brushYLeftDiv&&(this.brushYLeftDiv.call(this.brushYLeft.move,null),this.brushYLeftDiv.remove()),this.brushYRightDiv&&(this.brushYRightDiv.call(this.brushYRight.move,null),this.brushYRightDiv.remove()),this.opts=null}}]),s}(H.a),B=i(102),F=function(t){function s(t){m()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));return i.opts=l()({onZoom:R.c,onY1Zoom:R.c,onY2Zoom:R.c},t),i}return A()(s,t),f()(s,[{key:"getClosestXAxisData",value:function(t,s){var i=this.opts.chart.options.timeInfo.dataIndex,e=(0,Object(B.a)((function(t){return t[i]})).left)(s,t,1),a=s[e-1];return s[e]||a}},{key:"updatebrushXSelection",value:function(t,s){this.brushXDiv.attr("x",t).attr("width",s-t)}},{key:"draw",value:function(){var t=this,s=Object(R.e)(this.opts,"chart.xAxis.scale")||!1,i=Object(R.e)(this.opts,"chart.yAxis.scale")||!1,e=Object(R.e)(this.opts,"chart.yAxis2.scale")||!1,a=this.opts.chart.options.chartData;if(s&&I.l){this.zoomX=Object(I.A)().scaleExtent([0,a.length]).translateExtent([[this.opts.chart.margin.left,this.opts.chart.margin.top],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]).extent([[this.opts.chart.margin.left,this.opts.chart.margin.top],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]).touchable((function(){return!0})),this.zoomXDiv=this.opts.chart.svg.call(this.zoomX),this.brushXDiv=this.opts.chart.mouseHandler.mouseBrush.append("rect").attr("class","selection").attr("cursor","move").style("opacity","0.3").attr("x",0).attr("y",0).attr("width",0).attr("height",this.opts.chart.chartHeight);var r=!1,o=0,h=0,n=t.opts.chart.tooltip;this.zoomXDiv.style("touch-action","pan-y").on("touchstart.zoom",(function(){var s=Object(I.l)(this);if((r=I.j.touches&&2===I.j.touches.length)&&s.length){n&&n.hide();var i=s[0][0]-t.opts.chart.margin.left;o=i,h=i,t.updatebrushXSelection(o,h)}}),!0).on("touchmove.zoom",(function(){var s=Object(I.l)(this);if(r&&s.length){var i=s[0][0]-t.opts.chart.margin.left,e=s[1][0]-t.opts.chart.margin.left,a=i,n=e;i>e&&(a=e,n=i),o=a,h=n,t.updatebrushXSelection(o,h)}}),!0).on("touchend.zoom",(function(){var i=Object(I.l)(this);if(r&&i.length){var e=i[0][0]-t.opts.chart.margin.left;o>e&&(o=e),h<e&&(h=e);var a=s.invert(o),n=Math.round(a),c=s.invert(h),l=Math.round(c);t.updatebrushXSelection(o,h),Object(R.j)(t.opts.onZoom)&&t.opts.onZoom.call(t.opts.chart,n,l)}t.updatebrushXSelection(0,0),o=0,h=0,r=!1}),!0)}i&&(this.brushYLeft=Object(I.i)(),this.brushYLeftDiv=this.opts.chart.svg.append("g").attr("class","vc-brushY-left"),this.brushYLeft.on("end",(function(){if(I.j.selection){t.brushYLeftDiv.call(t.brushYLeft.move,null);var s=I.j.selection.map(i.invert),e=s&&s.map(Math.round).sort((function(t,s){return t-s}));t.opts.chart.yAxis.modifyAxisProps({domainScale:e}),t.opts.chart.series.update(),Object(R.j)(t.opts.onY1Zoom)&&t.opts.onY1Zoom.call(t.opts.chart,e[0],e[1])}}))),e&&(this.brushYRight=Object(I.i)(),this.brushYRightDiv=this.opts.chart.svg.append("g").attr("class","vc-brushY-right"),this.brushYRight.on("end",(function(){if(I.j.selection){t.brushYRightDiv.call(t.brushYRight.move,null);var s=I.j.selection.map(e.invert),i=s&&s.map(Math.round).sort((function(t,s){return t-s}));t.opts.chart.yAxis2.modifyAxisProps({domainScale:i}),t.opts.chart.series.update(),Object(R.j)(t.opts.onY2Zoom)&&t.opts.onY2Zoom.call(t.opts.chart,i[0],i[1])}}))),this.update()}},{key:"update",value:function(){this.zoomX&&(this.zoomX.translateExtent([[this.opts.chart.margin.left,this.opts.chart.margin.top],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]).extent([[this.opts.chart.margin.left,this.opts.chart.margin.top],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]),this.brushXDiv.attr("x",0).attr("y",0).attr("width",0).attr("height",this.opts.chart.chartHeight)),this.brushYLeft&&(this.brushYLeft.extent([[0,0],[this.opts.chart.margin.left-j.a.BRUSHY_BUFFER,this.opts.chart.chartHeight]]),this.brushYLeftDiv.attr("transform","translate("+j.a.BRUSHY_BUFFER+","+this.opts.chart.margin.top+")").call(this.brushYLeft)),this.brushYRight&&(this.brushYRight.extent([[this.opts.chart.margin.left+this.opts.chart.chartWidth-j.a.BRUSHY_BUFFER,0],[this.opts.chart.margin.left+this.opts.chart.chartWidth+this.opts.chart.margin.right-j.a.BRUSHY_BUFFER,this.opts.chart.chartHeight]]),this.brushYRightDiv.attr("transform","translate("+j.a.BRUSHY_BUFFER+","+this.opts.chart.margin.top+")").call(this.brushYRight))}},{key:"showHide",value:function(t){t=!!t,this.brushXDiv&&this.brushXDiv.classed("vc-hidden",!t),this.brushYLeftDiv&&this.brushYLeftDiv.classed("vc-hidden",!t),this.brushYRightDiv&&this.brushYRightDiv.classed("vc-hidden",!t),this.opts.visible=t}},{key:"remove",value:function(){this.brushXDiv&&this.brushXDiv&&this.brushXDiv.remove(),this.brushYLeftDiv&&(this.brushYLeftDiv.call(this.brushYLeft.move,null),this.brushYLeftDiv.remove()),this.brushYRightDiv&&(this.brushYRightDiv.call(this.brushYRight.move,null),this.brushYRightDiv.remove()),this.opts=null}}]),s}(H.a),P=i(60),Z=function(t){function s(t){m()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));i.opts=l()({className:"",plotAxis:[j.a.DIR_LEFT,j.a.DIR_BOTTOM],lineData:null,yAxisTarget:null,xAxisTarget:null,visible:!0},t);var e=i,a=Object(R.e)(i.opts,"chart.xAxis.scale");i.opts.plotAxis.indexOf(j.a.DIR_TOP)>-1&&(a=Object(R.e)(i.opts,"chart.xAxis2.scale"));var r=Object(R.e)(i.opts,"chart.yAxis.scale");return i.opts.plotAxis.indexOf(j.a.DIR_RIGHT)>-1&&(r=Object(R.e)(i.opts,"chart.yAxis2.scale")),i.line=Object(I.n)(),i.opts.yAxisTarget&&i.line.defined((function(t){return null!=t[e.opts.yAxisTarget]})).x((function(t){return a(t[e.opts.xAxisTarget])})).y((function(t){return r(t[e.opts.yAxisTarget])})),i}return A()(s,t),f()(s,[{key:"draw",value:function(){var t=this;this.lineTag=this.opts.chart.graphZone.selectAll(".vc-line-"+this.opts.className).data([this.opts.lineData]).enter().append("g").attr("class","vc-line-plot vc-line-"+this.opts.className);var s=this.opts.chart.container.select("svg clipPath");this.lineTag.append("path").attr("clip-path","url(#"+s.attr("id")+")").attr("class","vc-line").style("stroke",(function(t){return t.color})).style("fill","transparent").style("stroke-width",(function(t){return t.lineWidth||"2px"})).attr("d",(function(s){return t.line(s.values)}))}},{key:"update",value:function(){var t=this;this.lineTag&&this.lineTag.select("path").attr("d",(function(s){return t.line(s.values)}))}},{key:"showHide",value:function(t){t=!!t,this.lineTag&&this.lineTag.classed("vc-hidden",!t),this.opts.visible=t}},{key:"redraw",value:function(){var t=this.opts.chart.options.plotSet,s=this.opts.lineData.name;this.lineTag&&this.lineTag.remove(),t&&t[s]&&t[s].visible&&this.draw()}},{key:"remove",value:function(){this.lineTag&&this.lineTag.remove(),this.line=null,this.opts=null}}]),s}(H.a),M=function(t){function s(t){m()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));i.opts=l()({className:"",plotAxis:[j.a.DIR_LEFT,j.a.DIR_BOTTOM],xAxisTarget:"",stackData:null,stackOrderMembers:{},visible:!0},t);var e=i,a=i.opts.chart.options.plotSet;i.opts.stackOrderIndex=i.opts.stackOrderMembers.filter((function(t){return a[t.name].visible||!1})).map((function(t){return a[t.name].dataIndex}));var r=Object(R.e)(i.opts,"chart.xAxis.scale");i.opts.plotAxis.indexOf(j.a.DIR_TOP)>-1&&(r=Object(R.e)(i.opts,"chart.xAxis2.scale"));var o=Object(R.e)(i.opts,"chart.yAxis.scale");return i.opts.plotAxis.indexOf(j.a.DIR_RIGHT)>-1&&(o=Object(R.e)(i.opts,"chart.yAxis2.scale")),i.opts.d3Stack=Object(I.v)(),i.area=Object(I.b)().x((function(t,s){return r(t.data[e.opts.xAxisTarget])})).y0((function(t){return o(t[0])})).y1((function(t){return o(t[1])})),i}return A()(s,t),f()(s,[{key:"draw",value:function(){var t=this,s=this.opts.chart.options.plotSet;this.opts.d3Stack.keys(this.opts.stackOrderIndex),this.opts.d3Stack.order(I.x),this.opts.d3Stack.offset(I.w);var i=this.opts.stackOrderMembers.filter((function(t){return s[t.name].visible||!1}));this.stackLayer=this.opts.chart.graphZone.selectAll(".vc-stack-"+this.opts.className).data(this.opts.d3Stack(this.opts.stackData)).enter().append("g").attr("class","vc-stack-plot vc-stack-"+this.opts.className);var e=this.opts.chart.container.select("svg clipPath");this.stackLayer.append("path").attr("clip-path","url(#"+e.attr("id")+")").attr("class",(function(s){return"vc-stack vc-stack-"+(i[t.opts.stackOrderIndex.indexOf(s.key)]||{name:""}).name})).style("fill",(function(e){var a=i[t.opts.stackOrderIndex.indexOf(e.key)]||{name:""};return s[a.name].color})).attr("d",this.area)}},{key:"update",value:function(){this.stackLayer&&this.stackLayer.select("path").attr("d",this.area)}},{key:"redraw",value:function(){var t=this.opts.chart.options.plotSet;this.opts.stackOrderIndex=this.opts.stackOrderMembers.filter((function(s){return t[s.name].visible||!1})).map((function(s){return t[s.name].dataIndex})),this.stackLayer&&this.stackLayer.remove(),this.draw()}},{key:"showHide",value:function(t){t=!!t,this.stackLayer.classed("vc-hidden",!t),this.opts.visible=t}},{key:"remove",value:function(){this.stackLayer&&this.stackLayer.remove(),this.opts.d3Stack=null,this.area=null,this.opts=null}}]),s}(H.a),U=function(t){function s(t){m()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));i.opts=t,i.plotSeries=[];var e=i.opts.chart.options.chartData,a=i.opts.chart.options.series,r=i.opts.chart.options.plotSet;return Object(R.g)(a.stack)&&a.stack.forEach((function(t){i.plotSeries.push(new M({chart:i.opts.chart,className:t.className||t.name,plotAxis:t.plotAxis,xAxisTarget:i.opts.chart.options.timeInfo.dataIndex,stackData:e,stackOrderMembers:t.stackOrderMembers}))})),Object(R.g)(a.line)&&a.line.forEach((function(t){i.plotSeries.push(new Z({chart:i.opts.chart,className:t.className||t.name,plotAxis:t.plotAxis,yAxisTarget:r[t.name].dataIndex,xAxisTarget:i.opts.chart.options.timeInfo.dataIndex,visible:r[t.name].visible,lineData:{name:t.name,color:r[t.name].color,lineWidth:r[t.name].lineWidth,values:e}}))})),i}return A()(s,t),s}(i(61).a),W=function(t){function s(t,i){if(m()(this,s),i.startTime=new Date,i.dataParser||(i.dataParser=new _(i)),!(i.dataParser instanceof T.a))throw new Error("DataParser in options dosen't have implementation of ChartAxisParser");var e=b()(this,(s.__proto__||u()(s)).call(this,t,i));return Object(R.l)(e.dataParser)&&l()(e.options,e.dataParser.dataExecutor()),Object(Y.c)(e.options),e.chartInitilize(),n()((function(){return e.draw()})),e}return A()(s,t),f()(s,[{key:"chartInitilize",value:function(){var t=void 0,s=this.options.yRange,i=this.options.yRange2,e=this.options.timeInfo;s&&(t=Object(R.e)(this,"options.yAxis.left"),this.yAxis=new D.a(o()({chart:this,position:"y",orient:"left",rangeScale:[this.chartHeight,0],domainScale:s},t)),this.chartComponentsArr.push(this.yAxis)),i&&(t=Object(R.e)(this,"options.yAxis.right"),this.yAxis2=new D.a(o()({chart:this,position:"y",orient:"right",rangeScale:[this.chartHeight,0],domainScale:i},t)),this.chartComponentsArr.push(this.yAxis2)),e.timeRange&&(t=Object(R.e)(this,"options.xAxis.bottom"),this.xAxis=new D.a(o()({chart:this,position:"x",orient:"bottom",rangeScale:[0,this.chartWidth],domainScale:e.timeRange},t)),this.chartComponentsArr.push(this.xAxis));var a=Object(R.e)(this,"options.tooltip");a.visible&&(this.tooltip=new L(o()({chart:this},a)),this.chartComponentsArr.push(this.tooltip));var r=Object(R.e)(this,"options.zoom",{});if((a.visible||r.visible)&&(this.mouseHandler=new E({chart:this}),this.chartComponentsArr.push(this.mouseHandler)),this.options.zoom.visible){var h=X;this.options.chart.isTouchScreen&&(h=F),this.zoomBrush=new h({chart:this,onZoom:this.options.zoom.onXZoom,onY1Zoom:this.options.zoom.onY1Zoom,onY2Zoom:this.options.zoom.onY2Zoom}),this.chartComponentsArr.push(this.zoomBrush)}this.options.series&&(this.series=new U({chart:this}),this.chartComponentsArr.push(this.series)),this.options.legend.visible&&(this.legends=new P.a({chart:this,legendPrefix:this.options.legend.legendPrefix,position:j.a.DIR_TOP,disableSeriesToggle:this.options.legend.disableSeriesToggle,onLegendChange:this.options.legend.onLegendChange}),this.chartComponentsArr.push(this.legends))}},{key:"draw",value:function(){console.log("TimeSeriesChart draw",this),y()(s.prototype.__proto__||u()(s.prototype),"draw",this).call(this),this.options.afterDraw.call(this),this.reScaleYAxis(),this.chartResponsive(),this.mouseHandler&&this.mouseHandler.triggerMouseAction(),this.timeDiff=(new Date).getTime()-this.options.startTime.getTime(),this.options.onComplete.call(this,this.timeDiff)}},{key:"reScaleYAxis",value:function(t){var s=this,i=void 0,e=void 0,r=void 0,o=void 0,h=!0,n=!0;t===j.a.DIR_LEFT&&(n=!1),t===j.a.DIR_RIGHT&&(h=!1),o=Object(R.e)(this.options,"yAxis.left.max"),this.options.yRange&&h&&!a()(o)&&(i=this.yAxis.tickValues).length>1&&(e=i[0]-i[1],r=i[0]+e,this.options.yRange[1]=r,this.yAxis.modifyAxisProps({domainScale:this.options.yRange})),o=Object(R.e)(this.options,"yAxis.right.max"),this.options.yRange2&&n&&!a()(o)&&(i=this.yAxis2.tickValues).length>1&&(e=i[0]-i[1],r=i[0]+e,this.options.yRange2[1]=r,this.yAxis2.modifyAxisProps({domainScale:this.options.yRange2}));var c={},l=0;this.options.yRange&&(c[j.a.DIR_LEFT]={},c[j.a.DIR_LEFT].class=".vc-axis-left",c[j.a.DIR_LEFT].maxText=""),this.options.yRange2&&(c[j.a.DIR_RIGHT]={},c[j.a.DIR_RIGHT].class=".vc-axis-right",c[j.a.DIR_RIGHT].maxText="");var p=this.svg.append("g").attr("class","vc-axis"),u=function(t){s.container.select("svg "+c[t].class).selectAll("text").each((function(s){var i=Object(I.u)(this).text()||"";i.length>c[t].maxText.length&&(c[t].maxText=i)})),p.selectAll(".dummyText").data([c[t].maxText]).enter().append("text").text(String).each((function(t,s){l=this.getComputedTextLength()})),s.margin[t]=Math.round(l)+j.a.Y_AXIS_SPACE};for(var v in c)u(v);p.remove(),this.chartWidth=this.chartFullSpace.width-this.margin.left-this.margin.right,this.update()}}]),s}(k.a);s.default=W}}]);
//# sourceMappingURL=timeseries.min.js.map