<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
<head>

    <meta charset="UTF-8">

    {% seo %}
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
</head>
<body>
<a id="skip-to-content" href="#content">Skip to the content.</a>

<header class="page-header" role="banner">
    <h1 class="project-name">{{ page.title | default: site.title | default: site.github.repository_name }}</h1>
    <h2 class="project-tagline">{{ page.description | default: site.description | default: site.github.project_tagline }}</h2>
    {% if site.github.is_project_page %}
    <a href="{{ site.github.repository_url }}" class="btn">View on GitHub</a>
    {% endif %}
    {% if site.show_downloads %}
    <a href="{{ site.github.zip_url }}" class="btn">Download .zip</a>
    <a href="{{ site.github.tar_url }}" class="btn">Download .tar.gz</a>
    {% endif %}
</header>

<main id="content" class="main-content" role="main">
    {{ content }}
    <div id="container" style="width: 90%;" ><svg>

    </svg></div>
    <br/><br/>

    <div class="language-plaintext highlighter-rouge">
        Usage:
        <div class="highlight"><pre class="highlight"><code>
var opts = {
          chart: {
            heading: "Timeseries",
            chartIndex: 2,
            //width: 800,
            height: 270,
            margin: {
              top: 40,
              right: 15,
              bottom: 50,
              left: 15
            },
            chartResize: true,
            chartType: "timeseries",
            isTouchScreen: !!(navigator.maxTouchPoints || ("ontouchstart" in window))
          },
          data: jdata,
          xAxis: {
            bottom: {
            }
          },
          yAxis: {
            left: {
              unit: 'Count',
              tickNumber: 5,
              formadt (d) { // Format all series belong to this Y Axis
                return d
              }
            }
          },
          zoom: {
            visible: true,
            onXZoom () {
              console.log('im x zoom')
            }
          },
          series: {
            line: [{
              name: 'Series-A',
              color:"#386CB0",
              lineWidth: '2px',
              plotAxis: ["left", "bottom"]
            }, {
              name: 'Series-B',
              color:"#666699",
              lineWidth: '2px',
              plotAxis: ["left", "bottom"]
            }, {
              name: 'Series-C',
              color:"#368669",
              lineWidth: '2px',
              plotAxis: ["left", "bottom"]
            }
            ],
            stack: []
          }
        };

        vc.plotChart('#container', opts).then(chart => myChart = chart)
</code></pre>
        </div>
    </div>
    <br/><br/>

    <footer class="site-footer">
        {% if site.github.is_project_page %}
        <span class="site-footer-owner"><a href="{{ site.github.repository_url }}">{{ site.github.repository_name }}</a> is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>.</span>
        {% endif %}
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
    </footer>
</main>
</body>
<link rel="stylesheet" type="text/css" href="vector-charts.css">
<script>
  var myChart;
  window.onload = function () {

    function drawLineChart (jdata) {
      console.log(jdata)
      var opts = {
        chart: {
          heading: "Timeseries",
          chartIndex: 2,
          //width: 800,
          height: 270,
          margin: {
            top: 40,
            right: 15,
            bottom: 50,
            left: 15
          },
          chartResize: true,
          chartType: "timeseries",
          isTouchScreen: !!(navigator.maxTouchPoints || ("ontouchstart" in window))
        },
        data: jdata,
        xAxis: {
          bottom: {
          }
        },
        yAxis: {
          left: {
            unit: 'Count',
            tickNumber: 5,
            formadt (d) { // Format all series belong to this Y Axis
              return d
            }
          }
        },
        zoom: {
          visible: true,
          onXZoom () {
            console.log('im x zoom')
          }
        },
        series: {
          line: [{
            name: 'Series-A',
            color:"#386CB0",
            lineWidth: '2px',
            plotAxis: ["left", "bottom"]
          }, {
            name: 'Series-B',
            color:"#666699",
            lineWidth: '2px',
            plotAxis: ["left", "bottom"]
          }, {
            name: 'Series-C',
            color:"#368669",
            lineWidth: '2px',
            plotAxis: ["left", "bottom"]
          }
          ],
          stack: []
        }
      };

      vc.plotChart('#container', opts).then(chart => myChart = chart)
    }

    function drawStackChart (jdata) {
      console.log(jdata)
      var opts = {
        chart: {
          heading: "Timeseries",
          chartIndex: 2,
          //width: 800,
          height: 270,
          margin: {
            top: 40,
            right: 15,
            bottom: 50,
            left: 15
          },
          chartResize: true,
          chartType: "timeseries"
        },
        data: jdata,
        xAxis: {
          bottom: {
            label: 'Time',
            tickNumber: 4
          }
        },
        yAxis: {
          left: {
            unit: 'Count',
            tickNumber: 5,
            label: 'Count',
            format (d) { // Format all series belong to this Y Axis
              return d
            }
          }
        },
        zoom: {
          visible: true,
          onXZoom (st, et) {
            console.log('im x zoom', st, et)
          }
        },
        series: {
          stack: [{
            name: 'StackGroup', // Name of stack
            plotAxis: ["left", "bottom"], // Define its axis dependency for all below defined series
            stackOrderMembers: [{
              name: 'Series-C',
              color:"#1cb09f",
            }, {
              name: 'Series-B',
              color:"#078609",
            }, {
              name: 'Series-A',
              color:"#990506",
            }]
          }]
        }
      };

      // myChart = vc.plotChart('#container2', opts)
      vc.plotChart('#container2', opts).then(chart => myChart = chart)
    }

    function status(response) {
      if (response.status >= 200 && response.status < 300) {
        return Promise.resolve(response)
      } else {
        return Promise.reject(new Error(response.statusText))
      }
    }

    fetch('dataTimeSeries2.json')
      .then(status)
      .then((response) => {
        return response.json()
      })
      .then((jdata) => {
        drawLineChart(jdata)
        drawStackChart(jdata)
      })

  }
</script>
<script src="vector-charts-lazy.js"></script>
</html>