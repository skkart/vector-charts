(window.webpackJsonpvc=window.webpackJsonpvc||[]).push([[4],{155:function(t,s,i){"use strict";i.r(s);var a=i(11),e=i.n(a),r=i(31),o=i.n(r),h=i(62),n=i.n(h),c=i(5),l=i.n(c),p=i(6),u=i.n(p),m=i(4),v=i.n(m),d=i(7),f=i.n(d),g=i(8),b=i.n(g),x=i(63),y=i.n(x),O=i(9),k=i.n(O),T=i(0),A=i(64),R=i(46),D=i(67),j=i(1),_=i(28),Y=function(t){function s(t){v()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this,t));return i.opts=t,i}return k()(s,t),f()(s,[{key:"dataExecutor",value:function(){try{return this.dataOptions={},this.opts.data&&(this.dataOptions.data=this.opts.data),this.opts.series&&(this.dataOptions.series=this.opts.series),this.opts.yAxis&&(this.dataOptions.yAxis=this.opts.yAxis),l()(this.dataOptions,this.constructChartData()),l()(this.dataOptions,this.constructXAxisInfo()),l()(this.dataOptions,this.constructPlotInfo()),l()(this.dataOptions,this.constructYAxisInfo()),this.dataOptions}catch(t){throw console.log("Error encountered while timeseries JSON parsing :",t),this.opts.onError(t),new Error("Invalid JSON received - Error on timeseries JSON parsing")}}},{key:"constructChartData",value:function(){var t=this.dataOptions.data.timeseries,s=t.columns,i=t.values,a=s.length&&i.length,e=i[0][0];if(!a||!Object(T.k)(e)&&!Object(T.i)(e))throw new Error("Invalid Time series JSON received");var r=0;return i.forEach((function(t){if(r>t[0])throw new Error("Invalid Time series JSON received: Timestamp Values must be in ascending order");r=t[0],t[0]=Object(T.d)(t[0],!0)})),{chartData:i}}},{key:"constructXAxisInfo",value:function(){var t=this.dataOptions.chartData;return{timeInfo:{dataIndex:0,timeRange:[t[0][0],t[t.length-1][0]]}}}},{key:"constructYAxisInfo",value:function(){var t=this.dataOptions,s=t.plotSet,i=t.series,a=t.chartData,r=Object(T.e)(t,"yAxis.left"),o=Object(T.e)(t,"yAxis.right"),h=!1,n=void 0,c=null,l=null;return r&&e()(r.min)&&e()(r.max)&&(c=[r.min,r.max]),o&&e()(o.min)&&e()(o.max)&&(l=[o.min,o.max]),(r&&!c||o&&!l)&&function(){for(n in s)if(!e()(s[n].minVal)||!e()(s[n].maxVal)){h=!0;break}if(i.stack&&i.stack.length||h){if(h)for(var p in s){var u=s[p];u.minVal=1/0,u.maxVal=-1/0}i.stack&&i.stack.forEach((function(t){t.valueRange=[1/0,-1/0]}));var m=0;a.forEach((function(t){if(h)for(var a in s){var e=s[a];(m=t[e.dataIndex])<e.minVal&&(e.minVal=m),m>e.maxVal&&(e.maxVal=m)}i.stack&&i.stack.forEach((function(i){var a=i.stackOrderMembers,e=0;a.forEach((function(i){e+=s[i.name].visible?t[s[i.name].dataIndex]:0})),e<i.valueRange[0]&&(i.valueRange[0]=e),e>i.valueRange[1]&&(i.valueRange[1]=e)}))}))}var v=-1/0,d=-1/0;for(n in i)"line"===n?i[n].forEach((function(t){s[t.name].visible&&"left"===s[t.name].plotAxis[0]&&s[t.name].maxVal>v&&(v=s[t.name].maxVal),s[t.name].visible&&"right"===s[t.name].plotAxis[0]&&s[t.name].maxVal>d&&(d=s[t.name].maxVal)})):"stack"===n&&i[n].forEach((function(t){"left"===t.plotAxis[0]&&t.valueRange[1]>v&&(v=t.valueRange[1]),"right"===t.plotAxis[0]&&t.valueRange[1]>d&&(d=t.valueRange[1])}));var f=1/0,g=1/0;for(n in s)"left"===s[n].plotAxis[0]&&s[n].visible&&s[n].minVal<f&&(f=s[n].minVal),"right"===s[n].plotAxis[0]&&s[n].visible&&s[n].minVal<g&&(g=s[n].minVal);var b=void 0,x=void 0;[f,v].reduce((function(t,s){return e()(t)&&e()(s)}))?(b=Object(T.e)(t,"yAxis.left.min"),b=e()(b)?b:f,x=Object(T.e)(t,"yAxis.left.max"),(x=e()(x)?x:v)||(x=b+80),c=[b,x]):c=!!r&&[0,80],[g,d].reduce((function(t,s){return e()(t)&&e()(s)}))?(b=Object(T.e)(t,"yAxis.right.min"),b=e()(b)?b:g,x=Object(T.e)(t,"yAxis.right.max"),(x=e()(x)?x:d)||(x=b+80),l=[b,x]):l=!!o&&[0,80]}(),{yRange:c,yRange2:l}}},{key:"constructPlotInfo",value:function(){var t=this.dataOptions,s=t.data.timeseries,i=s.columns,a=0,e={},r=t.series,o=void 0,h=t.timeInfo.dataIndex,n=s.color||[],c=Object(T.e)(t,"yAxis.left"),l=Object(T.e)(t,"yAxis.right");for(o in i.forEach((function(t){if(h!==a){var s=Object(T.n)(t);e[s]={name:t,dataIndex:a,minVal:1/0,maxVal:-1/0,visible:!0,color:n[a]||"#000"},a++}else a++})),r)"line"===o?r[o].forEach((function(t){t.name=Object(T.n)(t.name);var s=t.color;if(!s)throw"Color not present for series "+t.name;s&&(e[t.name].color=s);var i=t.plotAxis||["left","bottom"];e[t.name].plotAxis=i;var a="left"===i[0]?c.unit:l.unit;e[t.name].unit=a,Object(T.h)(t.visible)&&(e[t.name].visible=t.visible)})):"stack"===o?r[o].forEach((function(t){var s=t.stackOrderMembers;t.valueRange=[1/0,-1/0],s.forEach((function(s){s.name=Object(T.n)(s.name);var i=s.color;if(!i)throw"Color not present for series "+t.name;i&&(e[s.name].color=i);var a=s.plotAxis||["left","bottom"];e[s.name].plotAxis=a;var r="left"===a[0]?c.unit:l.unit;e[s.name].unit=r,Object(T.h)(s.visible)&&(e[s.name].visible=s.visible)}))})):"bar"===o&&r[o].forEach((function(t){var s=t.barOrderMembers;t.valueRange=[1/0,-1/0],s.forEach((function(s){s.name=Object(T.n)(s.name);var i=s.color;if(!i)throw"Color not present for series "+t.name;i&&(e[s.name].color=i);var a=s.plotAxis||["left","bottom"];e[s.name].plotAxis=a;var r="left"===a[0]?c.unit:l.unit;e[s.name].unit=r,Object(T.h)(s.visible)&&(e[s.name].visible=s.visible)}))}));return{series:r,plotSet:e}}}]),s}(_.a),I=i(84),S=i.n(I),w=i(10),H=i(2),L=function(t){function s(t){v()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));return i.opts=l()({crossHairs:{enable:!0},visible:!0},t),Object(T.j)(i.opts.format)||(i.opts.format=function(t){return"<span> ToolTip Text : </span><br/><span>"+S()(t)+"</span>"}),i}return k()(s,t),f()(s,[{key:"draw",value:function(){var t=this;this.crossHairs=!1,this.toolTipDiv=this.opts.chart.container.append("div").attr("class","vc-tooltip-display "+this.opts.className),!0===this.opts.crossHairs.enable&&(this.crossHairs=this.opts.chart.svg.append("g").attr("class","vc-tooltip-line"),this.crossHairs.append("line").attr("transform","translate(-999,-999)").attr("x1",this.opts.chart.margin.left).attr("y1",this.opts.chart.margin.top-j.a.TOOLTIP_TOP_BUFFER).attr("x2",this.opts.chart.margin.left).attr("y2",this.opts.chart.chartHeight+this.opts.chart.margin.top)),this.opts.chart.mouseHandler.register((function(){var s=t,i=Object(T.e)(t.opts,"chart.xAxis.scale")||!1,a=t.opts.chart.mouseHandler,e=t.opts.chart.options.timeInfo.dataIndex,r=t.opts.chart.options.chartData,o=Object(H.g)((function(t){return t[e]})).left,h="mousemove";t.opts.chart.options.chart.isTouchScreen&&(h="dblclick"),a.mouseBrush.on(h,(function(t){var a=Object(H.k)(this)[0],h=Object(H.k)(this)[1],n=i.invert(a),c=o(r,n,1),l=r[c-2],p=r[c-1],u=r[c]||p,m=p;r.length>s.opts.chart.chartWidth?function(){var t=Math.floor(r.length/s.opts.chart.chartWidth)+1,i={};for(var a in s.opts.chart.options.plotSet){var e=s.opts.chart.options.plotSet[a];e.visible&&(i[e.dataIndex]=!0)}for(var o={},h=c-t;h<c+t;h++)if(r[h]){var n=r[h].filter((function(t,s){return i[s]})).sort((function(t,s){return s-t}));n.length&&(o[h]=n)}var l=void 0,p=-1/0;for(var v in o){var d=o[v];p<d[0]&&(p=d[0],l=v)}m=r[l]||u}():m=n-p[e]>u[e]-n?u:p;var v=u[e]-p[e];!v&&l&&(v=p[e]-l[e]),v<Math.abs(u[e]-n)&&((m=[])[e]=n),s.hover(a,h,m)})).on("mouseout",(function(){s.hide()})).on("mousedown",(function(){s.hide()})),a.mouseBrush.select("rect.overlay").on("mousedown",(function(){s.hide()})),t.opts.chart.options.chart.isTouchScreen&&(t.hover(0,0,r[0]),setTimeout((function(){s.hide()}),25))}))}},{key:"hover",value:function(t,s,i){this.crossHairs&&this.crossHairs.select("line").attr("transform","translate("+t+",0)").attr("x1",this.opts.chart.margin.left).attr("y1",this.opts.chart.margin.top-j.a.TOOLTIP_TOP_BUFFER).attr("x2",this.opts.chart.margin.left).attr("y2",this.opts.chart.chartHeight+this.opts.chart.margin.top),this.showHide(!0);var a=t/this.opts.chart.chartWidth;a<.3&&(a=.2),a>.7&&(a=.95);var e=Object(T.b)(this.toolTipDiv),r=Object(T.b)(this.opts.chart.container),o=Math.round(r.left+this.opts.chart.margin.left+t-e.width*a)+"px",h=Math.round(r.top-e.height-5+2*j.a.TOOLTIP_TOP_BUFFER)+"px";this.toolTipDiv.style("left",o).style("top",h).style("display","inline-block").html(this.opts.format.call(this.opts.chart,i))}},{key:"showHide",value:function(t){t=!!t,this.crossHairs&&this.crossHairs.classed("vc-hidden",!t),this.toolTipDiv&&this.toolTipDiv.classed("vc-hidden",!t),this.opts.visible=t}},{key:"remove",value:function(){this.toolTipDiv&&this.toolTipDiv.remove(),this.crossHairs&&this.crossHairs.remove(),this.opts=null}}]),s}(w.a),E=function(t){function s(t){v()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));return i.opts=t,i.opts.registerFn=[],i}return k()(s,t),f()(s,[{key:"draw",value:function(){this.mouseBrush=this.opts.chart.svg.append("g").attr("class","vc-brushX").attr("width",this.opts.chart.chartWidth).attr("height",this.opts.chart.chartHeight).attr("fill","none").attr("pointer-events","all").attr("style","-webkit-tap-highlight-color: rgba(0, 0, 0, 0)").attr("transform","translate("+this.opts.chart.margin.left+","+this.opts.chart.margin.top+")"),this.opts.chart.options.chart.isTouchScreen&&this.mouseBrush.attr("cursor","pointer"),this.opts.chart.options.zoom.visible&&!this.opts.chart.options.chart.isTouchScreen||this.mouseBrush.append("rect").attr("class","overlay").attr("x",0).attr("y",0).attr("width",this.opts.chart.chartWidth).attr("height",this.opts.chart.chartHeight)}},{key:"update",value:function(){this.mouseBrush.attr("width",this.opts.chart.chartWidth).attr("height",this.opts.chart.chartHeight).attr("transform","translate("+this.opts.chart.margin.left+","+this.opts.chart.margin.top+")"),this.opts.chart.options.zoom.visible&&!this.opts.chart.options.chart.isTouchScreen||this.mouseBrush.select("rect.overlay").attr("width",this.opts.chart.chartWidth).attr("height",this.opts.chart.chartHeight)}},{key:"showHide",value:function(t){t=!!t,this.mouseBrush&&this.mouseBrush.classed("vc-hidden",!t)}},{key:"register",value:function(t){this.opts.registerFn.push(t)}},{key:"triggerMouseAction",value:function(){var t=this;this.opts.registerFn.forEach((function(s){s.call(t)}))}},{key:"remove",value:function(){this.mouseBrush&&this.mouseBrush.remove(),this.opts=null}}]),s}(w.a),B=function(t){function s(t){v()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));return i.opts=l()({onZoom:T.c,onY1Zoom:T.c,onY2Zoom:T.c},t),i}return k()(s,t),f()(s,[{key:"draw",value:function(){var t=this,s=Object(T.e)(this.opts,"chart.xAxis.scale")||!1,i=Object(T.e)(this.opts,"chart.yAxis.scale")||!1,a=Object(T.e)(this.opts,"chart.yAxis2.scale")||!1,e=null;s&&(this.brushX=Object(H.h)().extent([[0,0],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]),this.brushXDiv=this.opts.chart.mouseHandler.mouseBrush.call(this.brushX),e=this.brushXDiv.selectAll("rect.overlay"),this.brushX.on("end",(function(){if(H.j.selection){var i=H.j.selection.map(s.invert),a=i&&i.map(Math.round);t.brushXDiv.call(t.brushX.move,null),e.style("cursor","auto"),t.opts.chart.xAxis.modifyAxisProps({domainScale:a}),t.opts.chart.series.update(),Object(T.j)(t.opts.onZoom)&&t.opts.onZoom.call(t.opts.chart,a[0],a[1])}}))),i&&(this.brushYLeft=Object(H.i)(),this.brushYLeftDiv=this.opts.chart.svg.append("g").attr("class","vc-brushY-left"),this.brushYLeft.on("end",(function(){if(H.j.selection){t.brushYLeftDiv.call(t.brushYLeft.move,null);var s=H.j.selection.map(i.invert),a=s&&s.map(Math.round).sort((function(t,s){return t-s}));t.opts.chart.yAxis.modifyAxisProps({domainScale:a}),t.opts.chart.series.update(),Object(T.j)(t.opts.onY1Zoom)&&t.opts.onY1Zoom.call(t.opts.chart,a[0],a[1])}}))),a&&(this.brushYRight=Object(H.i)(),this.brushYRightDiv=this.opts.chart.svg.append("g").attr("class","vc-brushY-right"),this.brushYRight.on("end",(function(){if(H.j.selection){t.brushYRightDiv.call(t.brushYRight.move,null);var s=H.j.selection.map(a.invert),i=s&&s.map(Math.round).sort((function(t,s){return t-s}));t.opts.chart.yAxis2.modifyAxisProps({domainScale:i}),t.opts.chart.series.update(),Object(T.j)(t.opts.onY2Zoom)&&t.opts.onY2Zoom.call(t.opts.chart,i[0],i[1])}}))),e&&this.opts.chart.mouseHandler.register((function(){e.on("mousedown",(function(){e.style("cursor","col-resize")})).on("click",(function(){e.style("cursor","auto")}))})),this.update()}},{key:"update",value:function(){this.brushX&&(this.brushX.extent([[0,0],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]),this.brushXDiv.call(this.brushX)),this.brushYLeft&&(this.brushYLeft.extent([[0,0],[this.opts.chart.margin.left-j.a.BRUSHY_BUFFER,this.opts.chart.chartHeight]]),this.brushYLeftDiv.attr("transform","translate("+j.a.BRUSHY_BUFFER+","+this.opts.chart.margin.top+")").call(this.brushYLeft)),this.brushYRight&&(this.brushYRight.extent([[this.opts.chart.margin.left+this.opts.chart.chartWidth-j.a.BRUSHY_BUFFER,0],[this.opts.chart.margin.left+this.opts.chart.chartWidth+this.opts.chart.margin.right-j.a.BRUSHY_BUFFER,this.opts.chart.chartHeight]]),this.brushYRightDiv.attr("transform","translate("+j.a.BRUSHY_BUFFER+","+this.opts.chart.margin.top+")").call(this.brushYRight))}},{key:"showHide",value:function(t){t=!!t,this.brushXDiv&&this.brushXDiv.classed("vc-hidden",!t),this.brushYLeftDiv&&this.brushYLeftDiv.classed("vc-hidden",!t),this.brushYRightDiv&&this.brushYRightDiv.classed("vc-hidden",!t),this.opts.visible=t}},{key:"remove",value:function(){this.brushXDiv&&(this.brushXDiv.call(this.brushX.move,null),this.brushXDiv&&this.brushXDiv.remove()),this.brushYLeftDiv&&(this.brushYLeftDiv.call(this.brushYLeft.move,null),this.brushYLeftDiv.remove()),this.brushYRightDiv&&(this.brushYRightDiv.call(this.brushYRight.move,null),this.brushYRightDiv.remove()),this.opts=null}}]),s}(w.a),F=i(105),X=function(t){function s(t){v()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));return i.opts=l()({onZoom:T.c,onY1Zoom:T.c,onY2Zoom:T.c},t),i}return k()(s,t),f()(s,[{key:"getClosestXAxisData",value:function(t,s){var i=this.opts.chart.options.timeInfo.dataIndex,a=(0,Object(F.a)((function(t){return t[i]})).left)(s,t,1),e=s[a-1];return s[a]||e}},{key:"updatebrushXSelection",value:function(t,s){this.brushXDiv.attr("x",t).attr("width",s-t)}},{key:"draw",value:function(){var t=this,s=Object(T.e)(this.opts,"chart.xAxis.scale")||!1,i=Object(T.e)(this.opts,"chart.yAxis.scale")||!1,a=Object(T.e)(this.opts,"chart.yAxis2.scale")||!1,e=this.opts.chart.options.chartData;if(s){this.zoomX=Object(H.G)().scaleExtent([0,e.length]).translateExtent([[this.opts.chart.margin.left,this.opts.chart.margin.top],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]).extent([[this.opts.chart.margin.left,this.opts.chart.margin.top],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]).touchable((function(){return!0})),this.zoomXDiv=this.opts.chart.svg.call(this.zoomX),this.brushXDiv=this.opts.chart.mouseHandler.mouseBrush.append("rect").attr("class","selection").attr("cursor","move").style("opacity","0.3").attr("x",0).attr("y",0).attr("width",0).attr("height",this.opts.chart.chartHeight);var r=!1,o=0,h=0,n=t.opts.chart.tooltip;this.zoomXDiv.style("touch-action","pan-y").on("touchstart.zoom",(function(){var s=Object(H.l)(this);if((r=H.j.touches&&2===H.j.touches.length)&&s.length){n&&n.hide();var i=s[0][0]-t.opts.chart.margin.left;o=i,h=i,t.updatebrushXSelection(o,h)}}),!0).on("touchmove.zoom",(function(){var s=Object(H.l)(this);if(r&&s.length){var i=s[0][0]-t.opts.chart.margin.left,a=s[1][0]-t.opts.chart.margin.left,e=i,n=a;i>a&&(e=a,n=i),o=e,h=n,t.updatebrushXSelection(o,h)}}),!0).on("touchend.zoom",(function(){var i=Object(H.l)(this);if(r&&i.length){var a=i[0][0]-t.opts.chart.margin.left;o>a&&(o=a),h<a&&(h=a);var e=s.invert(o),n=Math.round(e),c=s.invert(h),l=Math.round(c);t.updatebrushXSelection(o,h),Object(T.j)(t.opts.onZoom)&&t.opts.onZoom.call(t.opts.chart,n,l)}t.updatebrushXSelection(0,0),o=0,h=0,r=!1}),!0)}i&&(this.brushYLeft=Object(H.i)(),this.brushYLeftDiv=this.opts.chart.svg.append("g").attr("class","vc-brushY-left"),this.brushYLeft.on("end",(function(){if(H.j.selection){t.brushYLeftDiv.call(t.brushYLeft.move,null);var s=H.j.selection.map(i.invert),a=s&&s.map(Math.round).sort((function(t,s){return t-s}));t.opts.chart.yAxis.modifyAxisProps({domainScale:a}),t.opts.chart.series.update(),Object(T.j)(t.opts.onY1Zoom)&&t.opts.onY1Zoom.call(t.opts.chart,a[0],a[1])}}))),a&&(this.brushYRight=Object(H.i)(),this.brushYRightDiv=this.opts.chart.svg.append("g").attr("class","vc-brushY-right"),this.brushYRight.on("end",(function(){if(H.j.selection){t.brushYRightDiv.call(t.brushYRight.move,null);var s=H.j.selection.map(a.invert),i=s&&s.map(Math.round).sort((function(t,s){return t-s}));t.opts.chart.yAxis2.modifyAxisProps({domainScale:i}),t.opts.chart.series.update(),Object(T.j)(t.opts.onY2Zoom)&&t.opts.onY2Zoom.call(t.opts.chart,i[0],i[1])}}))),this.update()}},{key:"update",value:function(){this.zoomX&&(this.zoomX.translateExtent([[this.opts.chart.margin.left,this.opts.chart.margin.top],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]).extent([[this.opts.chart.margin.left,this.opts.chart.margin.top],[this.opts.chart.chartWidth,this.opts.chart.chartHeight]]),this.brushXDiv.attr("x",0).attr("y",0).attr("width",0).attr("height",this.opts.chart.chartHeight)),this.brushYLeft&&(this.brushYLeft.extent([[0,0],[this.opts.chart.margin.left-j.a.BRUSHY_BUFFER,this.opts.chart.chartHeight]]),this.brushYLeftDiv.attr("transform","translate("+j.a.BRUSHY_BUFFER+","+this.opts.chart.margin.top+")").call(this.brushYLeft)),this.brushYRight&&(this.brushYRight.extent([[this.opts.chart.margin.left+this.opts.chart.chartWidth-j.a.BRUSHY_BUFFER,0],[this.opts.chart.margin.left+this.opts.chart.chartWidth+this.opts.chart.margin.right-j.a.BRUSHY_BUFFER,this.opts.chart.chartHeight]]),this.brushYRightDiv.attr("transform","translate("+j.a.BRUSHY_BUFFER+","+this.opts.chart.margin.top+")").call(this.brushYRight))}},{key:"showHide",value:function(t){t=!!t,this.brushXDiv&&this.brushXDiv.classed("vc-hidden",!t),this.brushYLeftDiv&&this.brushYLeftDiv.classed("vc-hidden",!t),this.brushYRightDiv&&this.brushYRightDiv.classed("vc-hidden",!t),this.opts.visible=t}},{key:"remove",value:function(){this.brushXDiv&&this.brushXDiv&&this.brushXDiv.remove(),this.brushYLeftDiv&&(this.brushYLeftDiv.call(this.brushYLeft.move,null),this.brushYLeftDiv.remove()),this.brushYRightDiv&&(this.brushYRightDiv.call(this.brushYRight.move,null),this.brushYRightDiv.remove()),this.opts=null}}]),s}(w.a),P=i(68),M=function(t){function s(t){v()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));i.opts=l()({className:"",plotAxis:[j.a.DIR_LEFT,j.a.DIR_BOTTOM],lineData:null,yAxisTarget:null,xAxisTarget:null,visible:!0},t);var a=i,e=Object(T.e)(i.opts,"chart.xAxis.scale");i.opts.plotAxis.indexOf(j.a.DIR_TOP)>-1&&(e=Object(T.e)(i.opts,"chart.xAxis2.scale"));var r=Object(T.e)(i.opts,"chart.yAxis.scale");return i.opts.plotAxis.indexOf(j.a.DIR_RIGHT)>-1&&(r=Object(T.e)(i.opts,"chart.yAxis2.scale")),i.line=Object(H.o)(),i.opts.yAxisTarget&&i.line.defined((function(t){return null!=t[a.opts.yAxisTarget]})).x((function(t){return e(t[a.opts.xAxisTarget])})).y((function(t){return r(t[a.opts.yAxisTarget])})),i}return k()(s,t),f()(s,[{key:"draw",value:function(){var t=this;this.lineTag=this.opts.chart.graphZone.selectAll(".vc-line-"+this.opts.className).data([this.opts.lineData]).enter().append("g").attr("class","vc-line-plot vc-line-"+this.opts.className);var s=this.opts.chart.container.select("svg clipPath");this.lineTag.append("path").attr("clip-path","url(#"+s.attr("id")+")").attr("class","vc-line").style("stroke",(function(t){return t.color})).style("fill","transparent").style("stroke-width",(function(t){return t.lineWidth||"2px"})).attr("d",(function(s){return t.line(s.values)}))}},{key:"update",value:function(){var t=this;this.lineTag&&this.lineTag.select("path").attr("d",(function(s){return t.line(s.values)}))}},{key:"showHide",value:function(t){t=!!t,this.lineTag&&this.lineTag.classed("vc-hidden",!t),this.opts.visible=t}},{key:"redraw",value:function(){var t=this.opts.chart.options.plotSet,s=this.opts.lineData.name;this.lineTag&&this.lineTag.remove(),t&&t[s]&&t[s].visible&&this.draw()}},{key:"remove",value:function(){this.lineTag&&this.lineTag.remove(),this.line=null,this.opts=null}}]),s}(w.a),U=function(t){function s(t){v()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));i.opts=l()({className:"",plotAxis:[j.a.DIR_LEFT,j.a.DIR_BOTTOM],xAxisTarget:"",stackData:null,stackOrderMembers:{},visible:!0},t);var a=i,e=i.opts.chart.options.plotSet;i.opts.stackOrderIndex=i.opts.stackOrderMembers.filter((function(t){return e[t.name].visible||!1})).map((function(t){return e[t.name].dataIndex}));var r=Object(T.e)(i.opts,"chart.xAxis.scale");i.opts.plotAxis.indexOf(j.a.DIR_TOP)>-1&&(r=Object(T.e)(i.opts,"chart.xAxis2.scale"));var o=Object(T.e)(i.opts,"chart.yAxis.scale");return i.opts.plotAxis.indexOf(j.a.DIR_RIGHT)>-1&&(o=Object(T.e)(i.opts,"chart.yAxis2.scale")),i.opts.d3Stack=Object(H.B)(),i.area=Object(H.b)().x((function(t,s){return r(t.data[a.opts.xAxisTarget])})).y0((function(t){return o(t[0])})).y1((function(t){return o(t[1])})),i}return k()(s,t),f()(s,[{key:"draw",value:function(){var t=this,s=this.opts.chart.options.plotSet;this.opts.d3Stack.keys(this.opts.stackOrderIndex),this.opts.d3Stack.order(H.D),this.opts.d3Stack.offset(H.C);var i=this.opts.stackOrderMembers.filter((function(t){return s[t.name].visible||!1}));this.stackLayer=this.opts.chart.graphZone.selectAll(".vc-stack-"+this.opts.className).data(this.opts.d3Stack(this.opts.stackData)).enter().append("g").attr("class","vc-stack-plot vc-stack-"+this.opts.className);var a=this.opts.chart.container.select("svg clipPath");this.stackLayer.append("path").attr("clip-path","url(#"+a.attr("id")+")").attr("class",(function(s){return"vc-stack vc-stack-"+(i[t.opts.stackOrderIndex.indexOf(s.key)]||{name:""}).name})).style("fill",(function(a){var e=i[t.opts.stackOrderIndex.indexOf(a.key)]||{name:""};return s[e.name].color})).attr("d",this.area)}},{key:"update",value:function(){this.stackLayer&&this.stackLayer.select("path").attr("d",this.area)}},{key:"redraw",value:function(){var t=this.opts.chart.options.plotSet;this.opts.stackOrderIndex=this.opts.stackOrderMembers.filter((function(s){return t[s.name].visible||!1})).map((function(s){return t[s.name].dataIndex})),this.stackLayer&&this.stackLayer.remove(),this.draw()}},{key:"showHide",value:function(t){t=!!t,this.stackLayer.classed("vc-hidden",!t),this.opts.visible=t}},{key:"remove",value:function(){this.stackLayer&&this.stackLayer.remove(),this.opts.d3Stack=null,this.area=null,this.opts=null}}]),s}(w.a),W=function(t){function s(t){v()(this,s);var i=b()(this,(s.__proto__||u()(s)).call(this));i.opts=t,i.plotSeries=[];var a=i.opts.chart.options.chartData,e=i.opts.chart.options.series,r=i.opts.chart.options.plotSet;return Object(T.g)(e.stack)&&e.stack.forEach((function(t){i.plotSeries.push(new U({chart:i.opts.chart,className:t.className||t.name,plotAxis:t.plotAxis,xAxisTarget:i.opts.chart.options.timeInfo.dataIndex,stackData:a,stackOrderMembers:t.stackOrderMembers}))})),Object(T.g)(e.line)&&e.line.forEach((function(t){i.plotSeries.push(new M({chart:i.opts.chart,className:t.className||t.name,plotAxis:t.plotAxis,yAxisTarget:r[t.name].dataIndex,xAxisTarget:i.opts.chart.options.timeInfo.dataIndex,visible:r[t.name].visible,lineData:{name:t.name,color:r[t.name].color,lineWidth:r[t.name].lineWidth,values:a}}))})),i}return k()(s,t),s}(i(69).a),N=function(t){function s(t,i){if(v()(this,s),i.startTime=new Date,i.dataParser||(i.dataParser=new Y(i)),!(i.dataParser instanceof _.a))throw new Error("DataParser in options dosen't have implementation of ChartAxisParser");var a=b()(this,(s.__proto__||u()(s)).call(this,t,i));return Object(T.l)(a.dataParser)&&l()(a.options,a.dataParser.dataExecutor()),Object(D.c)(a.options),a.chartInitilize(),n()((function(){return a.draw()})),a}return k()(s,t),f()(s,[{key:"chartInitilize",value:function(){var t=void 0,s=this.options.yRange,i=this.options.yRange2,a=this.options.timeInfo;s&&(t=Object(T.e)(this,"options.yAxis.left"),this.yAxis=new R.a(o()({chart:this,position:"y",orient:"left",rangeScale:[this.chartHeight,0],domainScale:s},t)),this.chartComponentsArr.push(this.yAxis)),i&&(t=Object(T.e)(this,"options.yAxis.right"),this.yAxis2=new R.a(o()({chart:this,position:"y",orient:"right",rangeScale:[this.chartHeight,0],domainScale:i},t)),this.chartComponentsArr.push(this.yAxis2)),a.timeRange&&(t=Object(T.e)(this,"options.xAxis.bottom"),this.xAxis=new R.a(o()({chart:this,position:"x",orient:"bottom",rangeScale:[0,this.chartWidth],domainScale:a.timeRange},t)),this.chartComponentsArr.push(this.xAxis));var e=Object(T.e)(this,"options.tooltip");e.visible&&(this.tooltip=new L(o()({chart:this},e)),this.chartComponentsArr.push(this.tooltip));var r=Object(T.e)(this,"options.zoom",{});if((e.visible||r.visible)&&(this.mouseHandler=new E({chart:this}),this.chartComponentsArr.push(this.mouseHandler)),this.options.zoom.visible){var h=B;this.options.chart.isTouchScreen&&(h=X),this.zoomBrush=new h({chart:this,onZoom:this.options.zoom.onXZoom,onY1Zoom:this.options.zoom.onY1Zoom,onY2Zoom:this.options.zoom.onY2Zoom}),this.chartComponentsArr.push(this.zoomBrush)}this.options.series&&(this.series=new W({chart:this}),this.chartComponentsArr.push(this.series)),this.options.legend.visible&&(this.legends=new P.a({chart:this,legendPrefix:this.options.legend.legendPrefix,position:j.a.DIR_TOP,disableSeriesToggle:this.options.legend.disableSeriesToggle,onLegendChange:this.options.legend.onLegendChange}),this.chartComponentsArr.push(this.legends))}},{key:"draw",value:function(){console.log("TimeSeriesChart draw",this),y()(s.prototype.__proto__||u()(s.prototype),"draw",this).call(this),this.options.afterDraw.call(this),this.reScaleYAxis(),this.chartResponsive(),this.mouseHandler&&this.mouseHandler.triggerMouseAction(),this.timeDiff=(new Date).getTime()-this.options.startTime.getTime(),this.options.onComplete.call(this,this.timeDiff)}},{key:"reScaleYAxis",value:function(t){var s=this,i=void 0,a=void 0,r=void 0,o=void 0,h=!0,n=!0;t===j.a.DIR_LEFT&&(n=!1),t===j.a.DIR_RIGHT&&(h=!1),o=Object(T.e)(this.options,"yAxis.left.max"),this.options.yRange&&h&&!e()(o)&&(i=this.yAxis.tickValues).length>1&&(a=i[0]-i[1],r=i[0]+a,this.options.yRange[1]=r,this.yAxis.modifyAxisProps({domainScale:this.options.yRange})),o=Object(T.e)(this.options,"yAxis.right.max"),this.options.yRange2&&n&&!e()(o)&&(i=this.yAxis2.tickValues).length>1&&(a=i[0]-i[1],r=i[0]+a,this.options.yRange2[1]=r,this.yAxis2.modifyAxisProps({domainScale:this.options.yRange2}));var c={},l=0;this.options.yRange&&(c[j.a.DIR_LEFT]={},c[j.a.DIR_LEFT].class=".vc-axis-left",c[j.a.DIR_LEFT].maxText=""),this.options.yRange2&&(c[j.a.DIR_RIGHT]={},c[j.a.DIR_RIGHT].class=".vc-axis-right",c[j.a.DIR_RIGHT].maxText="");var p=this.svg.append("g").attr("class","vc-axis"),u=function(t){s.container.select("svg "+c[t].class).selectAll("text").each((function(s){var i=Object(H.A)(this).text()||"";i.length>c[t].maxText.length&&(c[t].maxText=i)})),p.selectAll(".dummyText").data([c[t].maxText]).enter().append("text").text(String).each((function(t,s){l=this.getComputedTextLength()})),s.margin[t]=Math.round(l)+j.a.Y_AXIS_SPACE};for(var m in c)u(m);p.remove(),this.chartWidth=this.chartFullSpace.width-this.margin.left-this.margin.right,this.update()}}]),s}(A.a);s.default=N},46:function(t,s,i){"use strict";var a=i(5),e=i.n(a),r=i(6),o=i.n(r),h=i(4),n=i.n(h),c=i(7),l=i.n(c),p=i(8),u=i.n(p),m=i(9),v=i.n(m),d=i(10),f=i(2),g=i(1),b=i(0),x=function(t){function s(t){n()(this,s);var i=u()(this,(s.__proto__||o()(s)).call(this));i.opts=e()({className:"",position:"y",orient:"left",label:"",unit:"",rangeScale:[0,1e3],domainScale:[0,100],scaleType:"",axisClamp:!0,tickNumber:null,rotateText:!1,textLimit:8,tickFormatter:!1,showGridLines:!1,tickPadding:g.a.TICK_PADDING,scalePadding:g.a.SCALE_PADDING,visible:!0},t),i.axis=null,"scaleBand"===i.opts.scaleType?i.scale=Object(f.u)():(i.scale=Object(f.v)(),i.opts.unit===g.a.UNITS_TIME&&(i.scale=Object(f.y)())),"x"===i.opts.position&&(i.opts.orient===g.a.DIR_BOTTOM?i.axis=Object(f.c)():i.opts.orient===g.a.DIR_TOP&&(i.axis=Object(f.f)()),!0===i.opts.showGridLines&&i.axis.tickSizeInner(-i.opts.chart.chartHeight)),i.tickValues=[];var a=i;if("y"===i.opts.position&&(i.opts.orient===g.a.DIR_LEFT?i.axis=Object(f.d)():i.opts.orient===g.a.DIR_RIGHT&&(i.axis=Object(f.e)(),i.axis.tickSizeInner(0)),!0===i.opts.showGridLines&&i.axis.tickSizeInner(-i.opts.chart.chartWidth),Object(b.j)(i.opts.tickFormatter))){var r=i.opts.tickFormatter;i.opts.tickFormatter=function(t){return a.tickValues.unshift(t),r(t)}}return i.opts.tickPadding>0&&i.axis.tickPadding(i.opts.tickPadding),i}return v()(s,t),l()(s,[{key:"modifyAxisProps",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e()(this.opts,t),this.update()}},{key:"draw",value:function(){this.transformAttr=null,this.opts.orient===g.a.DIR_BOTTOM?this.transformAttr="translate(0,"+this.opts.chart.chartHeight+")":this.opts.orient===g.a.DIR_RIGHT&&(this.transformAttr="translate("+this.opts.chart.chartWidth+",0)"),this.axisTag=this.opts.chart.graphZone.append("g").attr("class","vc-axis vc-axis-"+this.opts.orient+" vc-axis-"+this.opts.className),Object(b.j)(this.opts.tickFormatter)&&this.axis.tickFormat(this.opts.tickFormatter),this.opts.label&&(this.opts.axisLabelTag=this.axisTag.append("text").attr("class","vc-axis-label").text(this.opts.label)),this.update(),!this.opts.visible&&this.axisTag.classed("vc-hidden",!0)}},{key:"update",value:function(){if(this.opts.orient===g.a.DIR_BOTTOM&&(this.opts.rangeScale=[0,this.opts.chart.chartWidth]),this.opts.orient===g.a.DIR_RIGHT&&(this.transformAttr="translate("+this.opts.chart.chartWidth+",0)"),this.opts.label){var t=0,s=0,i=0;this.opts.orient===g.a.DIR_BOTTOM?(t=Math.floor(this.opts.chart.chartWidth/2),s=g.a.X_AXIS_LABEL_Y):this.opts.orient!==g.a.DIR_LEFT&&this.opts.orient!==g.a.DIR_RIGHT||(this.opts.orient===g.a.DIR_LEFT?(t=-this.opts.chart.margin.left+g.a.BRUSHY_BUFFER,i=270):(t=this.opts.chart.margin.right-g.a.BRUSHY_BUFFER,i=90),s=Math.floor(this.opts.chart.chartHeight/2)),this.opts.axisLabelTag.attr("transform","translate("+t+","+s+") rotate("+i+")")}this.tickValues=[];var a=[this.opts.domainScale[0],this.opts.domainScale[this.opts.domainScale.length-1]];if("scaleBand"===this.opts.scaleType?(a=this.opts.domainScale,this.scale.padding(this.opts.scalePadding)):this.opts.axisClamp&&this.scale.clamp(),this.scale.range(this.opts.rangeScale).domain(a),this.axis.scale(this.scale),Object(b.k)(this.opts.tickNumber)){var e=this.opts.tickNumber;if("x"===this.opts.position&&this.opts.unit===g.a.UNITS_TIME){var r=Math.floor(this.opts.chart.chartWidth/60),o=Math.floor((this.opts.domainScale[1]-this.opts.domainScale[0])/864e5)+1;o>2&&o<e&&(e=o);var h=Math.floor((this.opts.domainScale[1]-this.opts.domainScale[0])/6e4);h<e&&(e=h),r<e&&(e=r)}this.axis.ticks(e)}else Object(b.j)(this.opts.tickNumber)&&this.axis.ticks(this.opts.tickNumber());this.transformAttr&&this.axisTag.attr("transform",this.transformAttr),this.opts.showGridLines&&"y"===this.opts.position&&this.axis.tickSizeInner(-this.opts.chart.chartWidth),this.axisTag.call(this.axis);var n=this.opts.textLimit,c=Object(b.j)(this.opts.tickFormatter)?this.opts.tickFormatter:b.c;"slant"===this.opts.rotateText?this.axisTag.selectAll("text").style("text-anchor","end").attr("y","8").attr("dx","-1.0em").attr("dy",".15em").attr("transform","rotate(-65)").text((function(t,s){return Object(b.p)(c(t),n)})):"vertical"===this.opts.rotateText&&this.axisTag.selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").style("text-anchor","start").text((function(t,s){return Object(b.p)(c(t),n)}))}},{key:"showHide",value:function(t){t=!!t,this.axisTag&&this.axisTag.classed("vc-hidden",!t),this.opts.axisLabelTag&&this.opts.axisLabelTag.classed("vc-hidden",!t),this.opts.visible=t}},{key:"remove",value:function(){this.opts.axisLabelTag&&this.opts.axisLabelTag.remove(),this.axisTag&&this.axisTag.remove(),this.scale=null,this.axis=null,this.opts=null}}]),s}(d.a);s.a=x}}]);
//# sourceMappingURL=timeseries.min.js.map